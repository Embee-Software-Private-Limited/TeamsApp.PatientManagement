(this.webpackJsonpclientapp=this.webpackJsonpclientapp||[]).push([[0],{385:function(e,t,a){},499:function(e,t,a){},501:function(e,t,a){},635:function(e,t){},636:function(e,t){},637:function(e,t){},638:function(e,t){},639:function(e,t){},646:function(e,t,a){},650:function(e,t,a){"use strict";a.r(t);var s,i,n,c,o,l,r,d,m,j,u,h,b,p,x,f,O,v,g,D,N=a(0),y=a.n(N),k=a(39),I=a.n(k),w=(a(385),a(362)),C=a(815),P=a(360),L=a(11),A=a(359),M=a(36),S=a(80),T=(a(499),a(2)),U=function(e){return Object(T.jsx)(S.a,{content:function(){var t=e.match.params;if("id"in t){var a=t.id;if("401"===a)return"Sorry, an error occurred while trying to access this service.";if("403"===a)return"Sorry, you do not have permission to access this page. Please contact your administrator to be granted permission."}return"Ooops! An unexpected error seems to have occured. Why not try refreshing your page? Or you can contact your administrator if the problem persists."}(),className:"error-message",error:!0,size:"medium"})},H=a(90),z=(a(501),function(){return window.location.origin}),B="",Y=function(e){var t=e.history;return Object(T.jsxs)("div",{className:"sign-in-content-container",children:[Object(T.jsx)(S.a,{content:"Please sign in to continue.",size:"medium"}),Object(T.jsx)("div",{className:"space"}),Object(T.jsx)(H.a,{content:"Sign in",primary:!0,className:"sign-in-button",onClick:function(){var e=z();L.authentication.authenticate({url:e+"/signin-simple-start",successCallback:function(){console.log("Login succeeded!"),t.push(e)},failureCallback:function(a){console.log("Login failed: "+a),t.push(e+"/errorpage")}})}})]})},R=a(15),E=a.n(R),F=a(30),V=a(20),_=a(21),G=a(110),W=a.n(G),Z=new(function(){function e(){Object(V.a)(this,e)}return Object(_.a)(e,[{key:"get",value:function(){var e=Object(F.a)(E.a.mark((function e(t){var a,s,i,n,c=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(c.length>1&&void 0!==c[1])||c[1],s=!(c.length>2&&void 0!==c[2])||c[2],i=c.length>3&&void 0!==c[3]?c[3]:"",n=c.length>4?c[4]:void 0,e.prev=4,!s){e.next=15;break}if(""===i){e.next=12;break}return e.next=9,this.setupAuthorizationHeaderUserToken(n,i);case 9:n=e.sent,e.next=15;break;case 12:return e.next=14,this.setupAuthorizationHeader(n);case 14:n=e.sent;case 15:return e.next=17,W.a.get(t,n);case 17:return e.abrupt("return",e.sent);case 20:if(e.prev=20,e.t0=e.catch(4),!a){e.next=27;break}throw this.handleError(e.t0),e.t0;case 27:throw e.t0;case 28:case"end":return e.stop()}}),e,this,[[4,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(F.a)(E.a.mark((function e(t){var a,s,i=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(i.length>1&&void 0!==i[1])||i[1],s=i.length>2?i[2]:void 0,e.prev=2,e.next=5,this.setupAuthorizationHeader(s);case 5:return s=e.sent,e.next=8,W.a.delete(t,s);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!a){e.next=18;break}throw this.handleError(e.t0),e.t0;case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(F.a)(E.a.mark((function e(t,a){var s,i,n,c,o=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!(o.length>2&&void 0!==o[2])||o[2],i=!(o.length>3&&void 0!==o[3])||o[3],n=o.length>4&&void 0!==o[4]?o[4]:"",c=o.length>5?o[5]:void 0,e.prev=4,!i){e.next=15;break}if(""===n){e.next=12;break}return e.next=9,this.setupAuthorizationHeaderUserToken(c,n);case 9:c=e.sent,e.next=15;break;case 12:return e.next=14,this.setupAuthorizationHeader(c);case 14:c=e.sent;case 15:return e.next=17,W.a.post(t,a,c);case 17:return e.abrupt("return",e.sent);case 20:if(e.prev=20,e.t0=e.catch(4),!s){e.next=27;break}throw this.handleError(e.t0),e.t0;case 27:throw e.t0;case 28:case"end":return e.stop()}}),e,this,[[4,20]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(F.a)(E.a.mark((function e(t,a){var s,i,n=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!(n.length>2&&void 0!==n[2])||n[2],i=n.length>3?n[3]:void 0,e.prev=2,e.next=5,this.setupAuthorizationHeader(i);case 5:return i=e.sent,e.next=8,W.a.put(t,a,i);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!s){e.next=18;break}throw this.handleError(e.t0),e.t0;case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){if(e.hasOwnProperty("response")){var t=e.response.status;console.log(e.response.status),403===t?window.location.href="/errorpage/?id=403&locale=en-US":401===t||(window.location.href="/errorpage?locale=en-US")}else window.location.href="/errorpage?locale=en-US"}},{key:"setupAuthorizationHeader",value:function(){var e=Object(F.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.initialize(),e.abrupt("return",new Promise((function(e,a){var s={successCallback:function(a){t||(t=W.a.defaults),t.headers.Authorization="Bearer ".concat(a),t.headers["Accept-Language"]="en-US",e(t)},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(s)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupAuthorizationHeaderUserToken",value:function(e,t){return e||(e=W.a.defaults),e.headers.Authorization="Bearer ".concat(t),e.headers["Accept-Language"]="en-US",e}}]),e}()),q="consentUrl",J="common/GetGroups",K="common/GetChannels",Q="common/GetDepartments",X="common/GetDepartmentById",$="common/SaveDepartment",ee="etherteamsapp/GetDepartments",te="etherteamsapp/GetPatient",ae="etherteamsapp/GetPatientAdmissionDetails",se="etherteamsapp/GetDoctorNotes",ie="etherteamsapp/AddUpdateDoctorNotes",ne="etherteamsapp/GetVitals",ce="etherteamsapp/AddUpdateVitals",oe="etherteamsapp/GetIntakeAndOutput",le="etherteamsapp/AddUpdateIntakeAndOutput",re="etherteamsapp/GetPrescriptions",de="etherteamsapp/GetLabReports",me="etherteamsapp/GetMedicalHistory",je=function(e){return z()+"/api/v1.0/"+e},ue=function(){var e=Object(F.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(q)+"?windowLocationOriginDomain=".concat(t,"&loginhint=").concat(a)),e.next=3,Z.get(je(q)+"?windowLocationOriginDomain=".concat(t,"&loginhint=").concat(a),void 0,!1);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),he=function(){var e=Object(F.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(Q)),e.next=3,Z.get(je(Q));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(F.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(X)),e.next=3,Z.get(je(X)+"?departmentId="+t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(F.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je($)),e.next=3,Z.post(je($),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(F.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(J)+"?query=".concat(t)),e.next=3,Z.get(je(J)+"?query=".concat(t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(F.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(K)+"?teamId=".concat(t)),e.next=3,Z.get(je(K)+"?teamId=".concat(t),!1);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(F.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(ee)),e.next=3,Z.get(je(ee),!0,!0,"");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(F.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(te)),e.next=3,Z.get(je(te)+"?UHID="+t,!0,!0,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ge=function(){var e=Object(F.a)(E.a.mark((function e(t,a,s){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(ae)),e.next=3,Z.get(je(ae)+"?UHID="+t+"&AdmissionId="+a,!0,!0,s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),De=function(){var e=Object(F.a)(E.a.mark((function e(t,a,s){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(ne)),e.next=3,Z.get(je(ne)+"?UHID="+t+"&AdmissionId="+a,!0,!0,s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(F.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(ce)),e.next=3,Z.post(je(ce),t,!0,!0,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ye=function(){var e=Object(F.a)(E.a.mark((function e(t,a,s){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(se)),e.next=3,Z.get(je(se)+"?UHID="+t+"&AdmissionId="+a,!0,!0,s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),ke=function(){var e=Object(F.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(ie)),e.next=3,Z.post(je(ie),t,!0,!0,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(F.a)(E.a.mark((function e(t,a,s){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(oe)),e.next=3,Z.get(je(oe)+"?UHID="+t+"&AdmissionId="+a,!0,!0,s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),we=function(){var e=Object(F.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(le)),e.next=3,Z.post(je(le),t,!0,!0,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(F.a)(E.a.mark((function e(t,a,s){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(re)),e.next=3,Z.get(je(re)+"?UHID="+t+"&AdmissionId="+a,!0,!0,s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(F.a)(E.a.mark((function e(t,a,s){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(de)),e.next=3,Z.get(je(de)+"?UHID="+t+"&AdmissionId="+a,!0,!0,s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),Le=function(){var e=Object(F.a)(E.a.mark((function e(t,a,s){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In api",je(me)),e.next=3,Z.get(je(me)+"?UHID="+t+"&AdmissionId="+a,!0,!0,s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),Ae=function(){return Object(N.useEffect)((function(){L.initialize(),L.getContext((function(e){var t=window.location.origin.replace("https://",""),a=e.userPrincipalName?e.userPrincipalName:"";ue(t,a).then((function(e){window.location.assign(e.data)}))}))})),Object(T.jsx)(T.Fragment,{})},Me=function(){return Object(N.useEffect)((function(){L.initialize();var e=function(){var e={};return window.location.hash.substr(1).split("&").forEach((function(t){var a=t.split("="),s=a[0],i=a[1]&&decodeURIComponent(a[1]);e[s]=i})),e}();e.error?(console.log("error 1",e.error),L.authentication.notifyFailure(e.error)):e.id_token?(console.log("error success"),L.authentication.notifySuccess()):(console.log("error UnexpectedFailure"),L.authentication.notifyFailure("UnexpectedFailure"))})),Object(T.jsx)(T.Fragment,{})},Se=a(25),Te=a(24),Ue=a(800),He=a(797),ze=a(799),Be=a(802),Ye=a(92),Re=a(801),Ee=a(818),Fe=a(798),Ve=a(33),_e=a.n(Ve),Ge=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){return Object(V.a)(this,a),t.call(this,e)}return Object(_.a)(a,[{key:"render",value:function(){if(this.props.patientPrimaryDetails){var e=this.props.patientPrimaryDetails.Salutation?this.props.patientPrimaryDetails.Salutation:"",t=this.props.patientPrimaryDetails.PatientName?this.props.patientPrimaryDetails.PatientName:"";return Object(T.jsxs)(He.a,{className:"justify-content-between",children:[Object(T.jsx)("div",{className:"col-md-6 col-6",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Name",size:"small",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block",content:e+" "+t,size:"medium",weight:"bold"})]})})}),Object(T.jsx)("div",{className:"col-md-6 col-6",children:Object(T.jsx)("div",{className:"d-flex flex-row-reverse",children:Object(T.jsxs)("div",{className:"mx-3",children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"UHID",size:"small",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block",content:this.props.patientPrimaryDetails.UHID?this.props.patientPrimaryDetails.UHID:"",size:"medium",weight:"bold"})]})})})]})}return Object(T.jsx)("div",{})}}]),a}(y.a.Component),We=(y.a.Component,function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).submitHandler=function(){s.setState({errorMessage:""}),""!==s.state.VitalDetails.Temp?""!==s.state.VitalDetails.Weight?""!==s.state.VitalDetails.Height?""!==s.state.VitalDetails.PulseRate?(s.setState({submitLoading:!0}),L.getContext((function(e){s.setState({submitLoading:!0});var t={TeamId:s.state.groupId,ChannelId:s.state.channelId,UHID:s.state.UHID,AdmissionId:s.state.AdmissionId,DepartmentId:s.state.DepartmentId,CreatedBy:e.userPrincipalName,CreatedByEmail:B||e.userPrincipalName,Name:e.userPrincipalName,VitalDetails:s.state.VitalDetails};Ne(t,s.state.AccessToken).then((function(e){s.setState({submitLoading:!1}),!0===e.data?s.pushToLocationHistory("/vitals/view"):s.setState({errorMessage:"Sorry unable to save your data."})}))}))):s.setState({errorMessage:"Please enter PulseRate"}):s.setState({errorMessage:"Please enter Height"}):s.setState({errorMessage:"Please enter Weight"}):s.setState({errorMessage:"Please enter Temp"})},s.BuildPatientPrimaryDetails=function(){if(s.state.patientPrimaryDetails)return Object(T.jsx)(Ge,{patientPrimaryDetails:s.state.patientPrimaryDetails})},s.state={loading:!0,submitLoading:!1,errorMessage:"",SubmitButtonText:"Add Vitals",PageHeadding:"Add Vitals",patientPrimaryDetails:{}},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){if(void 0!==e.props.location.state&&e.props.location.state.AccessToken)console.log("Access from location state"),e.setState({AccessToken:e.props.location.state.AccessToken},(function(){e.onPageLoad(t)}));else{console.log("Get new token");var a={successCallback:function(a){e.setState({AccessToken:a},(function(){e.onPageLoad(t)}))},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(a)}}))}},{key:"onPageLoad",value:function(e){var t=this,a={};null!=this.props.location.state.VitalDetails?(a=this.props.location.state.VitalDetails,this.setState({SubmitButtonText:"Update Vitals",PageHeadding:"Edit Vitals"})):a={VitalId:"",Temp:"",Weight:"",Height:"",PulseRate:"",BPDiastolic:"",BPSystolic:"",RR:"",Spo2:"",Description:""},this.setState({UHID:this.props.location.state.UHID,AdmissionId:this.props.location.state.AdmissionId,DepartmentId:this.props.location.state.DepartmentId,PatientDetails:this.props.location.state.PatientDetails,patientPrimaryDetails:this.props.location.state.PatientDetails,channelId:e.channelId,groupId:e.groupId,VitalDetails:a},(function(){t.setState({loading:!1})}))}},{key:"pushToLocationHistory",value:function(e){this.props.history.push({pathname:e,state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,PatientDetails:this.state.PatientDetails,AccessToken:this.state.AccessToken}})}},{key:"onBackClick",value:function(e){this.pushToLocationHistory(e)}},{key:"handleFormFieldChanged",value:function(e,t){var a=this.state.VitalDetails,s=e.target.value;switch(t){case"Temp":a.Temp=s;break;case"Weight":a.Weight=s;break;case"Height":a.Height=s;break;case"PulseRate":a.PulseRate=s;break;case"BPDiastolic":a.BPDiastolic=s;break;case"BPSystolic":a.BPSystolic=s;break;case"RR":a.RR=s;break;case"Spo2":a.Spo2=s;break;case"Description":a.Description=s}this.setState({VitalDetails:a})}},{key:"ErrorMessageContent",value:function(){if(this.state.errorMessage.length>0)return Object(T.jsx)("div",{className:"py-3 d-flex justify-content-end",children:Object(T.jsx)("p",{className:"error-message-save",children:this.state.errorMessage})})}},{key:"render",value:function(){var e=this;return this.state.loading?Object(T.jsx)(ze.a,{children:Object(T.jsx)(Ye.a,{})}):Object(T.jsx)("div",{children:Object(T.jsx)(ze.a,{children:Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0);",onClick:function(){return e.onBackClick("/vitals/view")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:this.state.PageHeadding,size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),this.BuildPatientPrimaryDetails(),Object(T.jsxs)(He.a,{className:"mt-3",children:[Object(T.jsx)("div",{className:"col-md-4 col-6",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Temp"}),Object(T.jsx)(Be.a,{fluid:!0,name:"Temp",value:this.state.VitalDetails.Temp,onChange:function(t){return e.handleFormFieldChanged(t,"Temp")}})]})}),Object(T.jsx)("div",{className:"col-md-4 col-6",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Weight",size:"small",timestamp:!0}),Object(T.jsx)(Be.a,{fluid:!0,name:"",maxLength:10,value:this.state.VitalDetails.Weight,onChange:function(t){return e.handleFormFieldChanged(t,"Weight")}})]})}),Object(T.jsx)("div",{className:"col-md-4 col-6",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Height",size:"small",timestamp:!0}),Object(T.jsx)(Be.a,{fluid:!0,name:"",maxLength:10,value:this.state.VitalDetails.Height,onChange:function(t){return e.handleFormFieldChanged(t,"Height")}})]})}),Object(T.jsx)("div",{className:"col-md-4 col-6",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Pulse Rate",size:"small",timestamp:!0}),Object(T.jsx)(Be.a,{fluid:!0,name:"PulseRate",maxLength:10,value:this.state.VitalDetails.PulseRate,onChange:function(t){return e.handleFormFieldChanged(t,"PulseRate")}})]})}),Object(T.jsx)("div",{className:"col-md-4 col-6",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"BP Systolic",size:"small",timestamp:!0}),Object(T.jsx)(Be.a,{fluid:!0,name:"BPSystolic",maxLength:10,value:this.state.VitalDetails.BPSystolic,onChange:function(t){return e.handleFormFieldChanged(t,"BPSystolic")}})]})}),Object(T.jsx)("div",{className:"col-md-4 col-6",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"BP Diastolic",size:"small",timestamp:!0}),Object(T.jsx)(Be.a,{fluid:!0,name:"BPDiastolic",maxLength:10,value:this.state.VitalDetails.BPDiastolic,onChange:function(t){return e.handleFormFieldChanged(t,"BPDiastolic")}})]})}),Object(T.jsx)("div",{className:"col-md-4 col-6",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"RR",size:"small",timestamp:!0}),Object(T.jsx)(Be.a,{fluid:!0,name:"RR",maxLength:10,value:this.state.VitalDetails.RR,onChange:function(t){return e.handleFormFieldChanged(t,"RR")}})]})}),Object(T.jsx)("div",{className:"col-md-4 col-6",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Spo2",size:"small",timestamp:!0}),Object(T.jsx)(Be.a,{fluid:!0,name:"Spo2",maxLength:10,value:this.state.VitalDetails.Spo2,onChange:function(t){return e.handleFormFieldChanged(t,"Spo2")}})]})}),Object(T.jsx)("div",{className:"col-md-12 col-12",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Description",size:"small",timestamp:!0}),Object(T.jsx)(Be.a,{fluid:!0,"aria-multiline":!0,name:"Description",value:this.state.VitalDetails.Description,onChange:function(t){return e.handleFormFieldChanged(t,"Description")}})]})})]}),this.ErrorMessageContent(),Object(T.jsxs)("div",{className:"py-3 d-flex justify-content-end",children:[Object(T.jsx)(H.a,{content:"Back",secondary:!0,onClick:function(){return e.onBackClick("/vitals/view")}}),Object(T.jsx)(H.a,{className:"ms-2",disabled:this.state.submitLoading,content:this.state.submitLoading?Object(T.jsx)(Ye.a,{label:"Submitting Data..",labelPosition:"end"}):this.state.SubmitButtonText,primary:!0,onClick:function(){return e.submitHandler()}})]})]})})})}}]),a}(y.a.Component)),Ze=["title","titleId"];function qe(){return(qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function Je(e,t){if(null==e)return{};var a,s,i=function(e,t){if(null==e)return{};var a,s,i={},n=Object.keys(e);for(s=0;s<n.length;s++)a=n[s],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)a=n[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Ke(e,t){var a=e.title,y=e.titleId,k=Je(e,Ze);return N.createElement("svg",qe({width:300,height:220,viewBox:"0 0 281 220",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":y},k),a?N.createElement("title",{id:y},a):null,s||(s=N.createElement("path",{d:"M195.997 127.947L265.011 139.922C266.644 140.206 268.197 139.112 268.48 137.479L280.455 68.4654C280.739 66.8329 279.645 65.2799 278.012 64.9967L208.999 53.0212C207.366 52.7379 205.813 53.8317 205.53 55.4641L193.554 124.478C193.271 126.11 194.365 127.664 195.997 127.947Z",fill:"#B4EAF0"})),i||(i=N.createElement("path",{d:"M195.997 127.947L265.011 139.922C266.644 140.205 268.197 139.112 268.48 137.479L270.967 123.147L196.041 110.146L193.554 124.478C193.271 126.11 194.365 127.663 195.997 127.947Z",fill:"#28C2D1"})),n||(n=N.createElement("path",{d:"M259.364 132.998C260.998 132.998 262.324 131.672 262.324 130.038C262.324 128.403 260.998 127.078 259.364 127.078C257.729 127.078 256.404 128.403 256.404 130.038C256.404 131.672 257.729 132.998 259.364 132.998Z",fill:"#009EA6"})),c||(c=N.createElement("path",{d:"M249.377 131.265C251.012 131.265 252.337 129.94 252.337 128.305C252.337 126.67 251.012 125.345 249.377 125.345C247.743 125.345 246.417 126.67 246.417 128.305C246.417 129.94 247.743 131.265 249.377 131.265Z",fill:"#009EA6"})),o||(o=N.createElement("path",{d:"M207.88 124.064C209.515 124.064 210.84 122.739 210.84 121.104C210.84 119.47 209.515 118.145 207.88 118.145C206.246 118.145 204.921 119.47 204.921 121.104C204.921 122.739 206.246 124.064 207.88 124.064Z",fill:"#F9F8F6"})),l||(l=N.createElement("path",{d:"M239.589 103.703L233.818 84.0913L228.021 91.291L211.075 88.351L211.819 84.063L226.24 86.5654L235.645 74.8828L241.542 94.9262L247.949 87.6826L263.703 90.416L262.959 94.7041L249.6 92.3857L239.589 103.703Z",fill:"#28C2D1"})),r||(r=N.createElement("path",{d:"M101.334 127.084L82.3701 69.3266C81.8533 67.7524 80.1581 66.8953 78.584 67.4122L56.3518 74.7119L53.8966 67.2348C53.3751 65.645 52.2653 64.3535 50.7716 63.5986C49.2794 62.8437 47.5802 62.7163 45.9913 63.2368L26.4996 69.6372C24.9098 70.1587 23.6183 71.2685 22.8629 72.7617C22.108 74.2554 21.9796 75.9531 22.5016 77.5425L24.957 85.0201L2.56494 92.3722C0.99074 92.8891 0.13364 94.5842 0.65054 96.1584L19.6146 153.916C20.1314 155.49 21.8266 156.347 23.4007 155.83L99.4197 130.87C100.994 130.353 101.851 128.658 101.334 127.084ZM28.7856 75.7568L47.7768 69.521L50.1498 76.7482L31.1586 82.9838L28.7856 75.7568Z",fill:"#28C2D1"})),d||(d=N.createElement("path",{d:"M50.9924 133.365C63.0011 133.365 72.7361 123.63 72.7361 111.621C72.7361 99.6124 63.0011 89.8774 50.9924 89.8774C38.9836 89.8774 29.2487 99.6124 29.2487 111.621C29.2487 123.63 38.9836 133.365 50.9924 133.365Z",fill:"#F9F8F6"})),m||(m=N.createElement("path",{d:"M51.0108 136.63C40.4957 136.63 30.6871 129.943 27.2325 119.423C22.9312 106.322 30.0904 92.1634 43.1915 87.8617C49.5362 85.7782 56.315 86.2899 62.2765 89.3041C68.238 92.3183 72.6681 97.4735 74.7521 103.82C76.8356 110.166 76.3234 116.945 73.3092 122.906C70.295 128.867 65.1403 133.297 58.7936 135.38C56.2135 136.228 53.5899 136.63 51.0108 136.63ZM33.4347 117.386C36.6134 127.067 47.0763 132.356 56.7575 129.179C61.4474 127.639 65.2565 124.365 67.4841 119.96C69.7116 115.555 70.0901 110.546 68.55 105.856C67.0104 101.166 63.7365 97.3568 59.3312 95.1297C54.9254 92.9017 49.9176 92.5228 45.2277 94.0638C35.5465 97.2425 30.256 107.705 33.4347 117.386Z",fill:"#009EA6"})),j||(j=N.createElement("path",{d:"M65.1611 106.969C64.5986 105.256 62.7534 104.325 61.042 104.886L53.0754 107.502L50.4594 99.5348C49.8964 97.8224 48.0536 96.8908 46.3403 97.4518C44.6274 98.0143 43.6953 99.8585 44.2573 101.571L46.8733 109.538L38.9063 112.154C37.1934 112.716 36.2613 114.561 36.8233 116.273C37.275 117.647 38.5518 118.52 39.9239 118.52C40.2613 118.52 40.6046 118.467 40.9425 118.355L48.9096 115.74L51.5255 123.707C51.9772 125.081 53.254 125.953 54.6261 125.953C54.9635 125.953 55.3068 125.9 55.6447 125.789C57.3576 125.228 58.2897 123.383 57.7277 121.67L55.1119 113.703L63.0783 111.088C64.791 110.526 65.7231 108.681 65.1611 106.969Z",fill:"#009EA6"})),u||(u=N.createElement("path",{d:"M153.08 71.8911C155.347 71.8911 157.185 70.0529 157.185 67.7854C157.185 65.5179 155.347 63.6797 153.08 63.6797C150.812 63.6797 148.974 65.5179 148.974 67.7854C148.974 70.0529 150.812 71.8911 153.08 71.8911Z",fill:"#8B8CC4"})),h||(h=N.createElement("path",{d:"M127.647 83.1899C129.915 83.1899 131.753 81.3517 131.753 79.0842C131.753 76.8167 129.915 74.9785 127.647 74.9785C125.38 74.9785 123.541 76.8167 123.541 79.0842C123.541 81.3517 125.38 83.1899 127.647 83.1899Z",fill:"#8B8CC4"})),b||(b=N.createElement("path",{d:"M169.457 162.846C173.992 162.236 177.175 158.066 176.566 153.53L168.334 92.2471L151.909 94.4535L160.141 155.737C160.75 160.272 164.921 163.455 169.457 162.846Z",fill:"#C3C3E1"})),p||(p=N.createElement("path",{d:"M168.829 158.177C170.783 157.914 172.159 156.111 171.897 154.158L166.775 116.028L159.688 116.98L164.81 155.11C165.073 157.063 166.876 158.439 168.829 158.177Z",fill:"#8B8CC4"})),x||(x=N.createElement("path",{d:"M155.963 81.006C157.537 81.006 158.813 79.73 158.813 78.1561C158.813 76.5821 157.537 75.3062 155.963 75.3062C154.389 75.3062 153.113 76.5821 153.113 78.1561C153.113 79.73 154.389 81.006 155.963 81.006Z",fill:"#8B8CC4"})),f||(f=N.createElement("path",{d:"M152.318 97.499L168.743 95.2926C170.425 95.0666 171.605 93.5201 171.379 91.8382C171.153 90.1563 169.607 88.976 167.925 89.202L151.5 91.4084C149.817 91.6344 148.638 93.1809 148.864 94.8628C149.089 96.5446 150.636 97.725 152.318 97.499Z",fill:"#C3C3E1"})),O||(O=N.createElement("path",{d:"M138.915 166.949C143.45 166.339 146.633 162.169 146.024 157.633L137.792 96.3501L121.367 98.5565L129.599 159.84C130.209 164.375 134.379 167.558 138.915 166.949Z",fill:"#C3C3E1"})),v||(v=N.createElement("path",{d:"M138.287 162.279C140.241 162.017 141.618 160.214 141.355 158.26L136.233 120.131L129.146 121.083L134.268 159.212C134.531 161.166 136.334 162.541 138.287 162.279Z",fill:"#8B8CC4"})),g||(g=N.createElement("path",{d:"M183.007 107.293C184.557 106.957 185.613 105.481 185.398 103.882C185.172 102.2 183.625 101.02 181.943 101.246L110.614 110.828C108.931 111.053 107.751 112.601 107.978 114.282C108.204 115.964 109.751 117.144 111.433 116.918L182.762 107.336C182.844 107.325 182.927 107.311 183.007 107.293Z",fill:"#8B8CC4"})),D||(D=N.createElement("path",{d:"M121.776 101.602L138.201 99.3952C139.883 99.1692 141.063 97.6227 140.837 95.9408C140.611 94.2589 139.065 93.0786 137.383 93.3046L120.958 95.511C119.276 95.737 118.096 97.2835 118.322 98.9654C118.548 100.647 120.094 101.828 121.776 101.602Z",fill:"#C3C3E1"})))}var Qe=N.forwardRef(Ke),Xe=(a.p,a(803)),$e=a(804),et=a(805),tt=a(806),at=a(814),st=a(8),it=a(14),nt=a.n(it),ct=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).onAddClick=function(){s.pushToLocationHistory("/vitals/add")},s.onEditClick=function(e){s.setState({VitalDetails:e},(function(){s.pushToLocationHistory("/vitals/add")}))},s.onBackClick=function(){s.pushToLocationHistory("/patients/details")},s.loadVitals=function(e,t){De(e,t,s.state.AccessToken).then((function(e){"success"===e.data.status&&s.setState({vitalList:e.data.body,timeLineDatesList:e.data.timeLineDates}),s.setState({loading:!1})}))},s.formateTimeLineDate=function(e){var t=nt()().endOf("day").format("DD MMMM YYYY"),a=nt()(e).format("DD MMMM YYYY"),s=new Date,i=nt()(s.setDate((new Date).getDate()-1)).format("DD MMMM YYYY");return a===t?"Today":a===i?"Yesterday":nt()(e).format("DD MMMM YYYY")},s.BuildItemDetailDateWise=function(e){return Object(T.jsxs)("div",{className:"tl-item active",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-green mb-1",children:s.formateTimeLineDate(e)})}),s.state.vitalList.filter((function(t){return nt()(t.ModifiedOn).format("L")===nt()(e).format("L")})).map((function(e){return s.BuildItemDetail(e)}))]})]},nt()(e.ModifiedOn).format("L"))},s.BuildItemDetail=function(e){return Object(T.jsxs)("div",{className:"card w-100",children:[Object(T.jsx)("div",{className:"accordion accordion-flush",id:"accordionOne-"+e.VitalId,children:Object(T.jsxs)("div",{className:"accordion-item",children:[Object(T.jsx)("h2",{className:"accordion-header",id:"headingOne-"+e.VitalId,children:Object(T.jsx)("div",{className:"d-flex justify-content-between align-items-center accordion-button collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapseOne-"+e.VitalId,"aria-expanded":"false","aria-controls":"collapseOne-"+e.VitalId,children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(Xe.a,{color:""}),Object(T.jsx)(S.a,{className:"ms-1",content:Object(T.jsx)(_e.a,{format:"h:mm:ss a",children:e.ModifiedOn}),size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{id:"collapseOne-"+e.VitalId,className:"accordion-collapse collapse","aria-labelledby":"headingOne-"+e.VitalId,"data-bs-parent":"#accordionOne-"+e.VitalId,children:Object(T.jsxs)("div",{className:"accordion-body",children:[Object(T.jsxs)(He.a,{className:"mb-2",children:[Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Temp"}),Object(T.jsx)(S.a,{className:"d-block",content:e.Temp,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Weight"}),Object(T.jsx)(S.a,{className:"d-block",content:e.Weight,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Height"}),Object(T.jsx)(S.a,{className:"d-block",content:e.Height,size:"medium",weight:"semibold"})]})})})]}),Object(T.jsxs)(He.a,{className:"mb-2",children:[Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Pulse Rate"}),Object(T.jsx)(S.a,{className:"d-block",content:e.PulseRate,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"BP Systolic"}),Object(T.jsx)(S.a,{className:"d-block",content:e.BPSystolic,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"BP Diastolic"}),Object(T.jsx)(S.a,{className:"d-block",content:e.BPDiastolic,size:"medium",weight:"semibold"})]})})})]}),Object(T.jsxs)(He.a,{className:"mb-2",children:[Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"RR"}),Object(T.jsx)(S.a,{className:"d-block",content:e.RR,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Spo2"}),Object(T.jsx)(S.a,{className:"d-block",content:e.Spo2,size:"medium",weight:"semibold"})]})})})]}),Object(T.jsx)(He.a,{children:Object(T.jsx)("div",{className:"col-md-12 col-12",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Description"}),Object(T.jsx)(S.a,{className:"d-block",content:e.Description,size:"medium",weight:"semibold"})]})})})})]})})]})}),Object(T.jsx)("div",{className:"card-body",children:Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(at.a,{text:e.ModifiedBy,size:st.c.size24})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onChatClick(e)},children:Object(T.jsx)(Re.a,{color:"#6264a7"})}),Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onCallClick(e)},children:Object(T.jsx)($e.b,{color:"#6264a7",className:"ms-2"})}),Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onEditClick(e)},children:Object(T.jsx)(et.a,{color:"#6264a7",className:"ms-2"})})]})]})})]},e)},s.BuildPatientPrimaryDetails=function(){if(s.state.patientPrimaryDetails)return Object(T.jsx)(Ge,{patientPrimaryDetails:s.state.patientPrimaryDetails})},s.state={loading:!0,vitalList:[],timeLineDatesList:[],LoggedInUserEmail:"",LoggedInUserUPN:"",patientPrimaryDetails:{}},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){if(void 0!==e.props.location.state&&e.props.location.state.AccessToken)console.log("Access from location state"),e.setState({AccessToken:e.props.location.state.AccessToken},(function(){e.onPageLoad(t)}));else{console.log("Get new token");var a={successCallback:function(a){e.setState({AccessToken:a},(function(){e.onPageLoad(t)}))},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(a)}}))}},{key:"onPageLoad",value:function(e){var t=this,a=window.location.search;if(""!==a){var s=new URLSearchParams(a),i=s.get("UHID"),n=s.get("AdmissionId"),c=s.get("DepartmentId");null!==i&&""!==i&&null!==n&&""!==n&&null!==c&&""!==c&&(this.setState({UHID:i,AdmissionId:n,DepartmentId:c,LoggedInUserEmail:e.userPrincipalName,LoggedInUserUPN:e.userPrincipalName}),this.loadVitals(i,n),this.getPatientDetails(i))}else this.setState({UHID:this.props.location.state.UHID,AdmissionId:this.props.location.state.AdmissionId,DepartmentId:this.props.location.state.DepartmentId,LoggedInUserEmail:e.userPrincipalName,LoggedInUserUPN:e.userPrincipalName,PatientDetails:this.props.location.PatientDetails,patientPrimaryDetails:this.props.location.state.PatientDetails},(function(){t.loadVitals(t.state.UHID,t.state.AdmissionId)}))}},{key:"getPatientDetails",value:function(e){var t=this;ve(e,this.state.AccessToken).then((function(e){if("success"===e.data.status&&e.data.body.length>0){var a=e.data.body[0];t.setState({PatientDetails:a,patientPrimaryDetails:a})}}))}},{key:"pushToLocationHistory",value:function(e){this.props.history.push({pathname:e,state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,PatientDetails:this.state.PatientDetails,VitalDetails:this.state.VitalDetails,AccessToken:this.state.AccessToken}})}},{key:"onChatClick",value:function(e){var t="https://teams.microsoft.com/l/chat/0/0?users="+this.state.LoggedInUserUPN+","+e.ModifiedByEmail+"&topicName=Patient Vitals&message="+("Discussion regarding the patient, Patient Name : "+(this.state.PatientDetails?this.state.PatientDetails.PatientName:"")+", UHID : "+this.state.UHID);this.executeDeepLink(t)}},{key:"onCallClick",value:function(e){this.state.LoggedInUserUPN;var t="https://teams.microsoft.com/l/call/0/0?users="+e.ModifiedByEmail;this.executeDeepLink(t)}},{key:"executeDeepLink",value:function(e){L.executeDeepLink(e)}},{key:"NoRecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.onBackClick()},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Vitals",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)("div",{className:"mx-3",children:this.BuildPatientPrimaryDetails()}),Object(T.jsxs)("div",{className:"mt-5 text-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(Qe,{height:150})}),Object(T.jsx)(S.a,{className:"d-block mb-2",content:"No vitals added",size:"large",weight:"bold"}),Object(T.jsx)(S.a,{className:"d-block",content:"Vitals of the patient show up here",size:"medium",weight:"regular"}),Object(T.jsx)(H.a,{icon:Object(T.jsx)(tt.a,{}),className:"my-4",content:"Add Patient Vitals",iconPosition:"before",primary:!0,onClick:function(){return e.onAddClick()}})]})]})}},{key:"RecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.onBackClick()},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Vitals",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{children:Object(T.jsx)(H.a,{icon:Object(T.jsx)(tt.a,{}),iconOnly:!0,tinted:!0,className:"ms-2",primary:!0,onClick:function(){return e.onAddClick()}})})]}),Object(T.jsx)("div",{className:"mx-3",children:this.BuildPatientPrimaryDetails()}),Object(T.jsxs)("div",{className:"timeline block my-4",children:[this.state.timeLineDatesList.map((function(t){return e.BuildItemDetailDateWise(t)})),Object(T.jsxs)("div",{className:"tl-item",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsx)("div",{className:"d-flex flex-column w-100",children:Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-grey mb-1",children:"No further history"})})})]})]})]})}},{key:"render",value:function(){return this.state.loading?Object(T.jsx)(ze.a,{children:Object(T.jsx)(Ye.a,{})}):(e=this.state.vitalList.length>0?this.RecordFoundContent():this.NoRecordFoundContent(),Object(T.jsx)("div",{children:Object(T.jsx)(ze.a,{children:e})}));var e}}]),a}(y.a.Component),ot=a(807),lt=a(808),rt=a(809),dt=a(810),mt=a(811),jt=a(812),ut=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).state={loading:!0,AccessToken:"",PatientDetails:{PatientId:"",UHID:"",Salutation:"",PatientName:"",RegistrationAge:"",RegistrationDate:""}},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){var a={successCallback:function(a){e.setState({AccessToken:a},(function(){e.onPageLoad(t)}))},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(a)}))}},{key:"onPageLoad",value:function(e){var t=this,a=window.location.search;if(""!=a){var s=new URLSearchParams(a),i=s.get("UHID"),n=s.get("AdmissionId"),c=s.get("DepartmentId");null!==i&&""!==i&&null!==n&&""!==n&&null!==c&&""!==c&&this.setState({UHID:i,AdmissionId:n,DepartmentId:c},(function(){t.getPatientDetails(i)}))}else this.setState({UHID:this.props.location.state.UHID,AdmissionId:this.props.location.state.AdmissionId,DepartmentId:this.props.location.state.DepartmentId},(function(){t.getPatientDetails(t.state.UHID)}))}},{key:"getPatientDetails",value:function(e){var t=this;ve(e,this.state.AccessToken).then((function(e){if("success"===e.data.status&&e.data.body.length>0){var a=e.data.body[0];t.setState({PatientDetails:a})}t.setState({loading:!1})}))}},{key:"pushToLocationHistory",value:function(e){this.props.history.push({pathname:e,state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,PatientDetails:this.state.PatientDetails,AccessToken:this.state.AccessToken}})}},{key:"render",value:function(){var e=this;if(this.state.loading)return Object(T.jsx)(ze.a,{children:Object(T.jsx)(Ye.a,{})});var t=this.state.PatientDetails.Salutation?this.state.PatientDetails.Salutation:"",a=this.state.PatientDetails.PatientName?this.state.PatientDetails.PatientName:"";return Object(T.jsx)("div",{children:Object(T.jsxs)(ze.a,{children:[Object(T.jsxs)("div",{className:"hero_sec py-4 px-3",children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(Fe.a,{color:"#fff"}),Object(T.jsx)(Ee.a,{className:"mb-0 ms-1 text-light",as:"h4",content:t+" "+a})]}),Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/patients/view")},children:Object(T.jsx)(Re.c,{color:"#fff"})})})]}),Object(T.jsxs)(He.a,{children:[Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"Age",size:"small",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:this.state.PatientDetails.RegistrationAge,size:"medium",weight:"regular"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"UHID",size:"small",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:this.state.PatientDetails.UHID,size:"medium",weight:"regular"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"DOA",size:"small",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:Object(T.jsx)(_e.a,{format:"MMM Do YYYY",children:this.state.PatientDetails.RegistrationDate}),size:"medium",weight:"regular"})]})})})]})]}),Object(T.jsx)(Ue.a,{fluid:!0,children:Object(T.jsxs)(He.a,{children:[Object(T.jsx)("div",{className:"col-md-4 col-12",children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/vitals/view")},children:Object(T.jsxs)("div",{className:"d-flex justify-content-between py-3 px-2 border-bottom",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(ot.a,{color:"#6264A7"}),Object(T.jsx)(S.a,{className:"mb-0 ms-3",content:"Vitals",size:"large"})]}),Object(T.jsx)("div",{className:"d-flex align-items-center",children:Object(T.jsx)(Re.c,{color:"#6264A7"})})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-12",children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/medicalhistory/view")},children:Object(T.jsxs)("div",{className:"d-flex justify-content-between py-3 px-2 border-bottom",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(lt.a,{color:"#6264A7"}),Object(T.jsx)(S.a,{className:"mb-0 ms-3",content:"Medical History",size:"large"})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Re.c,{color:"#6264A7"})})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-12",children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/intakeoutput/view")},children:Object(T.jsxs)("div",{className:"d-flex justify-content-between py-3 px-2 border-bottom",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(rt.a,{color:"#6264A7"}),Object(T.jsx)(S.a,{className:"mb-0 ms-3",content:"Patient Intake & Output",size:"large"})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Re.c,{color:"#6264A7"})})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-12",children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/prescription/view")},children:Object(T.jsxs)("div",{className:"d-flex justify-content-between py-3 px-2 border-bottom",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(dt.a,{color:"#6264A7"}),Object(T.jsx)(S.a,{className:"mb-0 ms-3",content:"Prescription",size:"large"})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Re.c,{color:"#6264A7"})})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-12",children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/doctornotes/view")},children:Object(T.jsxs)("div",{className:"d-flex justify-content-between py-3 px-2 border-bottom",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(mt.a,{color:"#6264A7"}),Object(T.jsx)(S.a,{className:"mb-0 ms-3",content:"Doctor's Notes",size:"large"})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Re.c,{color:"#6264A7"})})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-12",children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/labreport/view")},children:Object(T.jsxs)("div",{className:"d-flex justify-content-between py-3 px-2 border-bottom",children:[Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(jt.a,{color:"#6264A7"}),Object(T.jsx)(S.a,{className:"mb-0 ms-3",content:"Lab Reports",size:"large"})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Re.c,{color:"#6264A7"})})]})})})]})})]})})}}]),a}(y.a.Component),ht=a(816),bt=a(813),pt=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],xt=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],ft=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).submitHandler=function(){s.setState({errorMessage:""}),""!==s.state.IntakeOutPutDetails.fluid_in0&&""!==s.state.IntakeOutPutDetails.fluid_out0&&""!==s.state.IntakeOutPutDetails.fluid_bal&&""!==s.state.IntakeOutPutDetails.Description?s.addIntakeOutputApiCall():s.setState({errorMessage:"Please enter intake"})},s.addIntakeOutputApiCall=function(){var e=s.state.Date+"T"+s.state.Hour+":"+s.state.Minute+":00";s.setState({errorMessage:""}),L.getContext((function(t){s.setState({submitLoading:!0});var a={TeamId:s.state.groupId,ChannelId:s.state.channelId,UHID:s.state.UHID,AdmissionId:s.state.AdmissionId,DepartmentId:s.state.DepartmentId,CreatedBy:t.userPrincipalName,CreatedByEmail:B||t.userPrincipalName,CreatedOn:e,Name:t.userPrincipalName,IntakeOutPutDetails:s.state.IntakeOutPutDetails};we(a,s.state.AccessToken).then((function(e){s.setState({submitLoading:!1}),!0===e.data?s.pushToLocationHistory("/intakeoutput/view"):s.setState({errorMessage:"Sorry unable to save your data."})}))}))},s.state={loading:!0,submitLoading:!1,errorMessage:"",SubmitButtonText:"Add Intake/Output",PageHeadding:"Add Intake/Output",Date:"",Hour:"",Minute:"",patientPrimaryDetails:{},disableSubmit:!0},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){if(void 0!==e.props.location.state&&e.props.location.state.AccessToken)console.log("Access from location state"),e.setState({AccessToken:e.props.location.state.AccessToken},(function(){e.onPageLoad(t)}));else{console.log("Get new token");var a={successCallback:function(a){e.setState({AccessToken:a},(function(){e.onPageLoad(t)}))},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(a)}}))}},{key:"onPageLoad",value:function(e){var t={};null!=this.props.location.state.IntakeOutPutDetails?(t=this.props.location.state.IntakeOutPutDetails,this.setState({SubmitButtonText:"Update Intake/Output",PageHeadding:"Edit Intake/Output"})):t={Id:"",Description:"",OutputType:"",fluid_in0:"",fluid_out0:"",fluid_bal:"",DateAdded:new Date},this.setState({UHID:this.props.location.state.UHID,AdmissionId:this.props.location.state.AdmissionId,DepartmentId:this.props.location.state.DepartmentId,PatientDetails:this.props.location.state.PatientDetails,patientPrimaryDetails:this.props.location.state.PatientDetails,channelId:e.channelId,groupId:e.groupId,IntakeOutPutDetails:t,Date:nt()(t.DateAdded).format("YYYY-MM-DD"),Hour:nt()(t.DateAdded).format("HH"),Minute:nt()(t.DateAdded).format("mm"),DefaultDate:new Date(t.DateAdded),loading:!1},(function(){}))}},{key:"pushToLocationHistory",value:function(e){this.props.history.push({pathname:e,state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,PatientDetails:this.state.PatientDetails,AccessToken:this.state.AccessToken}})}},{key:"onBackClick",value:function(e){this.pushToLocationHistory(e)}},{key:"handleFormFieldChanged",value:function(e,t){var a=this.state.IntakeOutPutDetails;a.DateAdded=new Date;var s=e.target.value;switch(t){case"fluid_in0":a.fluid_in0=s;break;case"fluid_out0":a.fluid_out0=s;break;case"fluid_bal":a.fluid_bal=s;break;case"Description":a.Description=s}this.setState({IntakeOutPutDetails:a})}},{key:"ErrorMessageContent",value:function(){if(this.state.errorMessage.length>0)return Object(T.jsx)("div",{className:"py-3 d-flex justify-content-end",children:Object(T.jsx)("p",{className:"error-message-save",children:this.state.errorMessage})})}},{key:"render",value:function(){var e=this;return this.state.loading?Object(T.jsx)(ze.a,{children:Object(T.jsx)(Ye.a,{})}):Object(T.jsx)("div",{children:Object(T.jsx)(ze.a,{children:Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0);",onClick:function(){return e.onBackClick("/intakeoutput/view")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:this.state.PageHeadding,size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)(Ge,{patientPrimaryDetails:this.state.patientPrimaryDetails}),Object(T.jsx)("div",{children:Object(T.jsxs)(He.a,{className:"mt-3",children:[Object(T.jsx)("div",{className:"col-md-12 col-12",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",content:"Intake"}),Object(T.jsx)(Be.a,{fluid:!0,name:"fluid_in0",value:this.state.IntakeOutPutDetails.fluid_in0,onChange:function(t){return e.handleFormFieldChanged(t,"fluid_in0")}})]})}),Object(T.jsx)("div",{className:"col-md-12 col-12",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",content:"Output"}),Object(T.jsx)(Be.a,{fluid:!0,name:"fluid_out0",value:this.state.IntakeOutPutDetails.fluid_out0,onChange:function(t){return e.handleFormFieldChanged(t,"fluid_out0")}})]})}),Object(T.jsx)("div",{className:"col-md-12 col-12",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",content:"Balance"}),Object(T.jsx)(Be.a,{fluid:!0,name:"fluid_bal",value:this.state.IntakeOutPutDetails.fluid_bal,onChange:function(t){return e.handleFormFieldChanged(t,"fluid_bal")}})]})}),Object(T.jsx)("div",{className:"col-md-12 col-12",children:Object(T.jsxs)("div",{className:"mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",content:"Description"}),Object(T.jsx)(Be.a,{fluid:!0,name:"Description",value:this.state.IntakeOutPutDetails.Description,onChange:function(t){return e.handleFormFieldChanged(t,"Description")}})]})})]})}),Object(T.jsx)("div",{className:"mb-2",children:Object(T.jsx)(He.a,{children:Object(T.jsx)("div",{className:"col-md-4 mb-4 ",children:Object(T.jsxs)(He.a,{children:[Object(T.jsxs)("div",{className:"col-6 mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Date",size:"small",timestamp:!0}),Object(T.jsx)(ht.a,{allowManualInput:!1,className:"pikdate mb-2",inputOnly:!0,defaultSelectedDate:this.state.DefaultDate?this.state.DefaultDate:new Date,maxDate:new Date,onDateChange:function(t,a){return e.setState({Date:nt()(a.value).format("YYYY-MM-DD")})}})]}),Object(T.jsxs)("div",{className:"col-3",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Hour",size:"small",timestamp:!0}),Object(T.jsx)(bt.a,{className:"overflow_off",items:pt,placeholder:this.state.Hour,checkable:!0,fluid:!0,onChange:function(t,a){return e.setState({Hour:a.value})}})]}),Object(T.jsxs)("div",{className:"col-3",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Minute",size:"small",timestamp:!0}),Object(T.jsx)(bt.a,{className:"overflow_off",items:xt,placeholder:this.state.Minute,checkable:!0,fluid:!0,onChange:function(t,a){return e.setState({Minute:a.value})}})]})]})})})}),this.ErrorMessageContent(),Object(T.jsxs)("div",{className:"py-3 d-flex justify-content-end",children:[Object(T.jsx)(H.a,{content:"Back",secondary:!0,onClick:function(){return e.onBackClick("/intakeoutput/view")}}),Object(T.jsx)(H.a,{className:"ms-2",disabled:this.state.submitLoading,content:this.state.submitLoading?Object(T.jsx)(Ye.a,{label:"Submitting Data..",labelPosition:"end"}):this.state.SubmitButtonText,primary:!0,onClick:function(){return e.submitHandler()}})]})]})})})}}]),a}(y.a.Component),Ot=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).onEditClick=function(e,t){s.setState({IntakeOutPutDetails:e},(function(){s.pushToLocationHistory(t)}))},s.onBackClick=function(e){s.pushToLocationHistory(e)},s.loadIntakeOutput=function(e,t){Ie(e,t,s.state.AccessToken).then((function(e){"success"===e.data.status&&s.setState({IntakeOutputList:e.data.body,timeLineDatesList:e.data.timeLineDates}),s.setState({loading:!1})}))},s.formateTimeLineDate=function(e){var t=nt()().endOf("day").format("DD MMMM YYYY"),a=nt()(e).format("DD MMMM YYYY"),s=new Date,i=nt()(s.setDate((new Date).getDate()-1)).format("DD MMMM YYYY");return a===t?"Today":a===i?"Yesterday":nt()(e).format("DD MMMM YYYY")},s.BuildItemDetailDateWise=function(e){return Object(T.jsxs)("div",{className:"tl-item active",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-green mb-1",children:s.formateTimeLineDate(e)})}),s.state.IntakeOutputList.filter((function(t){return nt()(t.ModifiedOn).format("L")===nt()(e).format("L")})).map((function(e){return s.BuildItemDetail(e)}))]})]},nt()(e.ModifiedOn).format("L"))},s.BuildItemDetail=function(e){return Object(T.jsxs)("div",{className:"card w-100",children:[Object(T.jsx)("div",{className:"accordion accordion-flush",id:"accordionOne-"+e.Id,children:Object(T.jsxs)("div",{className:"accordion-item",children:[Object(T.jsx)("h2",{className:"accordion-header",id:"headingOne-"+e.Id,children:Object(T.jsx)("div",{className:"d-flex justify-content-between align-items-center accordion-button collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapseOne-"+e.Id,"aria-expanded":"false","aria-controls":"collapseOne-"+e.Id,children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(Xe.a,{color:""}),Object(T.jsx)(S.a,{className:"ms-1",content:Object(T.jsx)(_e.a,{format:"h:mm:ss a",children:e.ModifiedOn}),size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{id:"collapseOne-"+e.Id,className:"accordion-collapse collapse","aria-labelledby":"headingOne-"+e.Id,"data-bs-parent":"#accordionOne-"+e.Id,children:Object(T.jsx)("div",{className:"accordion-body",children:Object(T.jsxs)(He.a,{children:[Object(T.jsx)("div",{className:"col-12",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"Inteak",content:"Intake"}),Object(T.jsx)(S.a,{className:"d-block",content:e.fluid_in0,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-12",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"Inteak",content:"Output"}),Object(T.jsx)(S.a,{className:"d-block",content:e.fluid_out0,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-12",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"Inteak",content:"Balance"}),Object(T.jsx)(S.a,{className:"d-block",content:e.fluid_bal,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-12",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"Inteak",content:"Date Added"}),Object(T.jsx)(S.a,{className:"d-block",content:Object(T.jsx)(_e.a,{format:"Do MMM YYYY hh:mm",children:e.DateAdded}),size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-12",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"Inteak",content:"Description"}),Object(T.jsx)(S.a,{className:"d-block",content:e.Description,size:"medium",weight:"semibold"})]})})})]})})})]})}),Object(T.jsx)("div",{className:"card-body",children:Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(at.a,{text:e.ModifiedBy,size:st.c.size24})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onChatClick(e)},children:Object(T.jsx)(Re.a,{color:"#6264a7"})}),Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onCallClick(e)},children:Object(T.jsx)($e.b,{color:"#6264a7",className:"ms-2"})}),Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onEditClick(e,"/intakeoutput/add")},children:Object(T.jsx)(et.a,{color:"#6264a7",className:"ms-2"})})]})]})})]},e)},s.BuildPatientPrimaryDetails=function(){if(s.state.patientPrimaryDetails)return Object(T.jsx)(Ge,{patientPrimaryDetails:s.state.patientPrimaryDetails})},s.state={loading:!0,IntakeOutputList:[],timeLineDatesList:[],LoggedInUserEmail:"",LoggedInUserUPN:"",Date:nt()().format("L"),Hour:nt()().format("hh"),Minute:nt()().format("mm"),Meridien:nt()().format("a"),patientPrimaryDetails:{}},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){if(void 0!==e.props.location.state&&e.props.location.state.AccessToken)console.log("Access from location state"),e.setState({AccessToken:e.props.location.state.AccessToken},(function(){e.onPageLoad(t)}));else{console.log("Get new token");var a={successCallback:function(a){e.setState({AccessToken:a},(function(){e.onPageLoad(t)}))},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(a)}}))}},{key:"onPageLoad",value:function(e){var t=this,a=window.location.search;if(""!==a){var s=new URLSearchParams(a),i=s.get("UHID"),n=s.get("AdmissionId"),c=s.get("DepartmentId");null!==i&&""!==i&&null!==n&&""!==n&&null!==c&&""!==c&&(this.setState({UHID:i,AdmissionId:n,DepartmentId:c,LoggedInUserEmail:e.userPrincipalName,LoggedInUserUPN:e.userPrincipalName}),this.loadIntakeOutput(i,n),this.getPatientDetails(i))}else this.setState({UHID:this.props.location.state.UHID,AdmissionId:this.props.location.state.AdmissionId,DepartmentId:this.props.location.state.DepartmentId,LoggedInUserEmail:e.userPrincipalName,LoggedInUserUPN:e.userPrincipalName,PatientDetails:this.props.location.state.PatientDetails,patientPrimaryDetails:this.props.location.state.PatientDetails},(function(){t.loadIntakeOutput(t.state.UHID,t.state.AdmissionId)}))}},{key:"getPatientDetails",value:function(e){var t=this;ve(e,this.state.AccessToken).then((function(e){if("success"===e.data.status&&e.data.body.length>0){var a=e.data.body[0];t.setState({PatientDetails:a,patientPrimaryDetails:a})}}))}},{key:"pushToLocationHistory",value:function(e){this.props.history.push({pathname:e,state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,PatientDetails:this.state.PatientDetails,IntakeOutPutDetails:this.state.IntakeOutPutDetails,AccessToken:this.state.AccessToken}})}},{key:"onAddClick",value:function(e){this.pushToLocationHistory(e)}},{key:"onChatClick",value:function(e){var t="https://teams.microsoft.com/l/chat/0/0?users="+this.state.LoggedInUserUPN+","+e.ModifiedByEmail+"&topicName=Patient Vitals&message="+("Discussion regarding the patient, Patient Name : "+(this.state.PatientDetails?this.state.PatientDetails.PatientName:"")+", UHID : "+this.state.UHID);this.executeDeepLink(t)}},{key:"onCallClick",value:function(e){this.state.LoggedInUserUPN;var t="https://teams.microsoft.com/l/call/0/0?users="+e.ModifiedByEmail;this.executeDeepLink(t)}},{key:"executeDeepLink",value:function(e){L.executeDeepLink(e)}},{key:"NoRecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.onBackClick("/patients/details")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Patient Intake & Output",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)("div",{className:"mx-3",children:this.BuildPatientPrimaryDetails()}),Object(T.jsxs)("div",{className:"mt-5 text-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(Qe,{height:150})}),Object(T.jsx)(S.a,{className:"d-block mb-2",content:"No Intake & Output added",size:"large",weight:"bold"}),Object(T.jsx)(S.a,{className:"d-block",content:"Intake & output of the patient show up here",size:"medium",weight:"regular"}),Object(T.jsx)(H.a,{icon:Object(T.jsx)(tt.a,{}),className:"my-4",content:"Add Intake & Output",iconPosition:"before",primary:!0,onClick:function(){return e.onAddClick("/intakeoutput/add")}})]})]})}},{key:"RecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.onBackClick("/patients/details")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Patient Intake & Output",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{children:Object(T.jsx)(H.a,{icon:Object(T.jsx)(tt.a,{}),iconOnly:!0,tinted:!0,className:"ms-2",primary:!0,onClick:function(){return e.onAddClick("/intakeoutput/add")}})})]}),this.BuildPatientPrimaryDetails(),Object(T.jsxs)("div",{className:"timeline block my-4",children:[this.state.timeLineDatesList.map((function(t){return e.BuildItemDetailDateWise(t)})),Object(T.jsxs)("div",{className:"tl-item",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsx)("div",{className:"d-flex flex-column w-100",children:Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-grey mb-1",children:"No further history"})})})]})]})]})}},{key:"render",value:function(){return this.state.loading?Object(T.jsx)(ze.a,{children:Object(T.jsx)(Ye.a,{})}):(e=this.state.IntakeOutputList.length>0?this.RecordFoundContent():this.NoRecordFoundContent(),Object(T.jsx)("div",{children:Object(T.jsx)(ze.a,{children:e})}));var e}}]),a}(y.a.Component),vt=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).loadPrescription=function(e,t){s.setState({loading:!0}),Ce(e,t,s.state.AccessToken).then((function(e){s.setState({loading:!1}),"success"==e.data.status&&s.setState({prescriptionList:e.data.bodyList,timeLineDatesList:e.data.timeLineDates})}))},s.BuildItemDetailDateWise=function(e){return Object(T.jsxs)("div",{className:"tl-item active",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-green mb-1",children:e})}),s.state.prescriptionList.filter((function(t){return t.AddedOn===e})).map((function(e){return s.BuildItemDetailPrescription(e)}))]})]})},s.BuildItemDetailPrescription=function(e){var t=e.PrescriptionId+"_"+e.AddedOn;return e.medicine_details.map((function(e){return s.BuildItemDetail(e,t)}))},s.BuildItemDetail=function(e,t){console.log(e);var a=e.split("|");return Object(T.jsx)("div",{className:"card w-100",children:Object(T.jsx)("div",{className:"accordion accordion-flush",id:"accordionOne-"+t,children:Object(T.jsxs)("div",{className:"accordion-item",children:[Object(T.jsx)("h2",{className:"accordion-header",id:"headingOne-"+t,children:Object(T.jsx)("div",{className:"d-flex justify-content-between align-items-center accordion-button collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapseOne-"+t,"aria-expanded":"false","aria-controls":"collapseOne-"+t,children:Object(T.jsx)("div",{className:"d-flex align-items-center",children:Object(T.jsx)(S.a,{className:"ms-1",content:"Prescription",size:"medium",weight:"semibold"})})})}),Object(T.jsx)("div",{id:"collapseOne-"+t,className:"accordion-collapse collapse","aria-labelledby":"headingOne-"+t,"data-bs-parent":"#accordionOne-"+t,children:Object(T.jsx)("div",{className:"accordion-body",children:Object(T.jsx)(He.a,{children:Object(T.jsx)("div",{className:"col-md-12 col-12",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)("div",{children:a.map((function(e){return Object(T.jsx)(S.a,{className:"d-block",content:e,size:"medium"})}))})})})})})})]})})})},s.state={loading:!1,prescriptionList:[],timeLineDatesList:[],LoggedInUserEmail:"",LoggedInUserUPN:"",patientPrimaryDetails:{}},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){if(void 0!==e.props.location.state&&e.props.location.state.AccessToken)console.log("Access from location state"),e.setState({AccessToken:e.props.location.state.AccessToken},(function(){e.onPageLoad(t)}));else{console.log("Get new token");var a={successCallback:function(a){e.setState({AccessToken:a},(function(){e.onPageLoad(t)}))},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(a)}}))}},{key:"onPageLoad",value:function(e){var t=this,a=window.location.search;if(""!==a){var s=new URLSearchParams(a),i=s.get("UHID"),n=s.get("AdmissionId"),c=s.get("DepartmentId");null!==i&&""!==i&&null!==n&&""!==n&&null!==c&&""!==c&&(this.setState({UHID:i,AdmissionId:n,DepartmentId:c,LoggedInUserEmail:e.userPrincipalName,LoggedInUserUPN:e.userPrincipalName}),this.loadPrescription(i,n),this.getPatientDetails(i))}else this.setState({UHID:this.props.location.state.UHID,AdmissionId:this.props.location.state.AdmissionId,DepartmentId:this.props.location.state.DepartmentId,LoggedInUserEmail:e.userPrincipalName,LoggedInUserUPN:e.userPrincipalName,PatientDetails:this.props.location.state.PatientDetails,patientPrimaryDetails:this.props.location.state.PatientDetails},(function(){t.loadPrescription(t.state.UHID,t.state.AdmissionId)}))}},{key:"getPatientDetails",value:function(e){var t=this;ve(e,this.state.AccessToken).then((function(e){if("success"===e.data.status&&e.data.body.length>0){var a=e.data.body[0];t.setState({PatientDetails:a,patientPrimaryDetails:a})}}))}},{key:"pushToLocationHistory",value:function(e){this.props.history.push({pathname:e,state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,PatientDetails:this.state.PatientDetails,AccessToken:this.state.AccessToken}})}},{key:"NoRecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/patients/details")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Prescriptions",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)("div",{className:"mx-3",children:Object(T.jsx)(Ge,{patientPrimaryDetails:this.state.patientPrimaryDetails})}),Object(T.jsxs)("div",{className:"mt-5 text-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(Qe,{height:150})}),Object(T.jsx)(S.a,{className:"d-block mb-2",content:"No Prescription added",size:"large",weight:"bold"}),Object(T.jsx)(S.a,{className:"d-block",content:"Prescription of the patient show up here",size:"medium",weight:"regular"})]})]})}},{key:"RecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/patients/details")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Prescriptions",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)(Ge,{patientPrimaryDetails:this.state.patientPrimaryDetails}),Object(T.jsxs)("div",{className:"timeline block my-4",children:[this.state.timeLineDatesList.map((function(t){return e.BuildItemDetailDateWise(t)})),Object(T.jsxs)("div",{className:"tl-item",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsx)("div",{className:"d-flex flex-column w-100",children:Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-grey mb-1",children:"No further history"})})})]})]})]})}},{key:"render",value:function(){return this.state.loading?Object(T.jsx)(ze.a,{children:Object(T.jsx)(Ye.a,{})}):(e=this.state.prescriptionList.length>0?this.RecordFoundContent():this.NoRecordFoundContent(),Object(T.jsx)("div",{children:e}));var e}}]),a}(y.a.Component),gt=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).loadMedicalHistory=function(e,t){s.setState({loading:!0}),Le(e,t,s.state.AccessToken).then((function(e){s.setState({loading:!1}),"success"==e.data.status&&s.setState({medicalHistoryList:e.data.body,timeLineDatesList:e.data.timeLineDates})}))},s.formateTimeLineDate=function(e){var t=nt()().endOf("day").format("DD MMMM YYYY"),a=nt()(e).format("DD MMMM YYYY"),s=new Date,i=nt()(s.setDate((new Date).getDate()-1)).format("DD MMMM YYYY");return a==t?"Today":a==i?"Yesterday":nt()(e).format("DD MMMM YYYY")},s.BuildItemDetailDateWise=function(e){return Object(T.jsxs)("div",{className:"tl-item active",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-green mb-1",children:s.formateTimeLineDate(e)})}),s.state.medicalHistoryList.filter((function(t){return nt()(t.ModifiedOn).format("L")===nt()(e).format("L")})).map((function(e){return s.BuildItemDetail(e)}))]})]})},s.BuildItemDetail=function(e){return Object(T.jsxs)("div",{className:"card w-100",children:[Object(T.jsx)("div",{className:"accordion accordion-flush",id:"accordionOne-"+e.DoctorNoteId,children:Object(T.jsxs)("div",{className:"accordion-item",children:[Object(T.jsx)("h2",{className:"accordion-header",id:"headingOne-"+e.DoctorNoteId,children:Object(T.jsx)("div",{className:"d-flex justify-content-between align-items-center accordion-button collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapseOne-"+e.DoctorNoteId,"aria-expanded":"false","aria-controls":"collapseOne-"+e.DoctorNoteId,children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(Xe.a,{color:""}),Object(T.jsx)(S.a,{className:"ms-1",content:Object(T.jsx)(_e.a,{format:"h:mm:ss a",children:e.ModifiedOn}),size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{id:"collapseOne-"+e.DoctorNoteId,className:"accordion-collapse collapse","aria-labelledby":"headingOne-"+e.DoctorNoteId,"data-bs-parent":"#accordionOne-"+e.DoctorNoteId,children:Object(T.jsx)("div",{className:"accordion-body",children:Object(T.jsx)(He.a,{children:Object(T.jsx)("div",{className:"col-12",children:Object(T.jsx)("div",{children:Object(T.jsx)(S.a,{className:"d-block",content:e.Description,size:"medium"})})})})})})]})}),Object(T.jsx)("div",{className:"card-body",children:Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsx)("div",{className:"mw-50",children:Object(T.jsx)(at.a,{text:e.ModifiedBy,size:st.c.size24})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onChatClick(e)},children:Object(T.jsx)(Re.a,{color:"#6264a7"})}),Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onCallClick(e)},children:Object(T.jsx)($e.b,{color:"#6264a7",className:"ms-2"})})]})]})})]})},s.state={loading:!0,medicalHistoryList:[],timeLineDatesList:[],LoggedInUserEmail:"",LoggedInUserUPN:"",patientPrimaryDetails:{}},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){if(void 0!==e.props.location.state&&e.props.location.state.AccessToken)console.log("Access from location state"),e.setState({AccessToken:e.props.location.state.AccessToken},(function(){e.onPageLoad(t)}));else{console.log("Get new token");var a={successCallback:function(a){e.setState({AccessToken:a},(function(){e.onPageLoad(t)}))},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(a)}}))}},{key:"onPageLoad",value:function(e){var t=this,a=window.location.search;if(""!==a){var s=new URLSearchParams(a),i=s.get("UHID"),n=s.get("AdmissionId"),c=s.get("DepartmentId");null!==i&&""!==i&&null!==n&&""!==n&&null!==c&&""!==c&&(this.setState({UHID:i,AdmissionId:n,DepartmentId:c,LoggedInUserEmail:e.userPrincipalName,LoggedInUserUPN:e.userPrincipalName}),this.loadMedicalHistory(i,n),this.getPatientDetails(i))}else this.setState({UHID:this.props.location.state.UHID,AdmissionId:this.props.location.state.AdmissionId,DepartmentId:this.props.location.state.DepartmentId,LoggedInUserEmail:e.userPrincipalName,LoggedInUserUPN:e.userPrincipalName,PatientDetails:this.props.location.state.PatientDetails,patientPrimaryDetails:this.props.location.state.PatientDetails},(function(){t.loadMedicalHistory(t.state.UHID,t.state.AdmissionId)}))}},{key:"getPatientDetails",value:function(e){var t=this;ve(e,this.state.AccessToken).then((function(e){if("success"===e.data.status&&e.data.body.length>0){var a=e.data.body[0];t.setState({PatientDetails:a,patientPrimaryDetails:a})}}))}},{key:"pushToLocationHistory",value:function(e){this.props.history.push({pathname:e,state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,PatientDetails:this.state.PatientDetails,AccessToken:this.state.AccessToken}})}},{key:"NoRecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/patients/details")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Medical History",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)("div",{className:"mx-3",children:Object(T.jsx)(Ge,{patientPrimaryDetails:this.state.patientPrimaryDetails})}),Object(T.jsxs)("div",{className:"mt-5 text-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(Qe,{height:150})}),Object(T.jsx)(S.a,{className:"d-block mb-2",content:"No Medical History added",size:"large",weight:"bold"}),Object(T.jsx)(S.a,{className:"d-block",content:"Medical History of the patient show up here",size:"medium",weight:"regular"})]})]})}},{key:"onChatClick",value:function(e){var t="https://teams.microsoft.com/l/chat/0/0?users="+this.state.LoggedInUserUPN+","+e.ModifiedByEmail+"&topicName=Patient Medical History&message="+("Discussion regarding the patient, Patient Name : "+(this.state.PatientDetails?this.state.PatientDetails.PatientName:"")+", UHID : "+this.state.UHID);this.executeDeepLink(t)}},{key:"onCallClick",value:function(e){this.state.LoggedInUserUPN;var t="https://teams.microsoft.com/l/call/0/0?users="+e.ModifiedByEmail;this.executeDeepLink(t)}},{key:"executeDeepLink",value:function(e){L.executeDeepLink(e)}},{key:"RecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/patients/details")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Medical History",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)(Ge,{patientPrimaryDetails:this.state.patientPrimaryDetails}),Object(T.jsxs)("div",{className:"timeline block my-4",children:[this.state.timeLineDatesList.map((function(t){return e.BuildItemDetailDateWise(t)})),Object(T.jsxs)("div",{className:"tl-item",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsx)("div",{className:"d-flex flex-column w-100",children:Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-grey mb-1",children:"No further history"})})})]})]})]})}},{key:"render",value:function(){return this.state.loading?Object(T.jsx)(ze.a,{children:Object(T.jsx)(Ye.a,{})}):(e=this.state.medicalHistoryList.length>0?this.RecordFoundContent():this.NoRecordFoundContent(),Object(T.jsx)("div",{children:e}));var e}}]),a}(y.a.Component),Dt=a(108),Nt=a(346),yt=a(347),kt=a.n(yt),It=(a(615),a(348)),wt=a.n(It),Ct=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],Pt=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],Lt=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).setEditorState=function(){var e=wt()(s.state.Description),t=e.contentBlocks,a=e.entityMap,i=Dt.ContentState.createFromBlockArray(t,a),n=Dt.EditorState.createWithContent(i);s.setState({editorState:n})},s.submitHandler=function(){s.setState({errorMessage:""}),""!==s.state.Description?s.addDoctorNotesApiCall():s.setState({errorMessage:"Please enter Description"})},s.addDoctorNotesApiCall=function(){s.setState({errorMessage:""});var e=s.state.Date+"T"+s.state.Hour+":"+s.state.Minute+":00";s.setState({submitLoading:!0}),L.getContext((function(t){var a={Description:kt()(Object(Dt.convertToRaw)(s.state.editorState.getCurrentContent())),Name:t.userPrincipalName,DoctorNoteId:s.state.DoctorNoteId,TeamId:s.state.groupId,ChannelId:s.state.channelId,UHID:s.state.UHID,AdmissionId:s.state.AdmissionId,CreatedByEmail:B||t.userPrincipalName,CreatedBy:t.userPrincipalName,DoctorNoteDate:e};s.setState({submitLoading:!0}),ke(a,s.state.AccessToken).then((function(e){s.setState({submitLoading:!1}),e?s.pushToLocationHistory("/doctornotes/view"):s.setState({errorMessage:"Sorry unable to save your data."})}))}))},s.onEditorStateChange=function(e){s.setState({editorState:e})},s.BuildPatientPrimaryDetails=function(){if(s.state.patientPrimaryDetails)return Object(T.jsx)(Ge,{patientPrimaryDetails:s.state.patientPrimaryDetails})},s.state={loading:!1,editorState:Dt.EditorState.createEmpty(),submitLoading:!1,errorMessage:"",SubmitButtonText:"Add Doctor's Note",PageHeadding:"Add Doctor's Note",DoctorNoteId:0,Date:nt()().format("YYYY-MM-DD"),Hour:nt()().format("HH"),Minute:nt()().format("mm"),patientPrimaryDetails:{}},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){if(void 0!==e.props.location.state&&e.props.location.state.AccessToken)console.log("Access from location state"),e.setState({AccessToken:e.props.location.state.AccessToken},(function(){e.onPageLoad(t)}));else{console.log("Get new token");var a={successCallback:function(a){e.setState({AccessToken:a},(function(){e.onPageLoad(t)}))},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(a)}}))}},{key:"onPageLoad",value:function(e){var t=this;console.log("hi");var a="Add Doctor's Note",s="Add Doctor's Note";null!=this.props.location.state.DoctorNotesDetails&&(a="Update Doctor's Note",s="Update Doctor's Note",console.log(this.props.location.state.DoctorNotesDetails.DoctorNoteDate),this.setState({Description:this.props.location.state.DoctorNotesDetails.Description,DoctorNoteId:this.props.location.state.DoctorNotesDetails.DoctorNoteId,Date:nt()(this.props.location.state.DoctorNotesDetails.DoctorNoteDate).format("YYYY-MM-DD"),Hour:nt()(this.props.location.state.DoctorNotesDetails.DoctorNoteDate).format("HH"),Minute:nt()(this.props.location.state.DoctorNotesDetails.DoctorNoteDate).format("mm"),DefaultDate:new Date(this.props.location.state.DoctorNotesDetails.DoctorNoteDate)},(function(){return t.setEditorState()}))),this.setState({UHID:this.props.location.state.UHID,AdmissionId:this.props.location.state.AdmissionId,DepartmentId:this.props.location.state.DepartmentId,channelId:e.channelId,groupId:e.groupId,loading:!1,SubmitButtonText:s,PageHeadding:a,DefaultDate:this.state.DefaultDate?this.state.DefaultDate:new Date,PatientDetails:this.props.location.state.PatientDetails,patientPrimaryDetails:this.props.location.state.PatientDetails},(function(){}))}},{key:"pushToLocationHistory",value:function(e){this.props.history.push({pathname:e,state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,PatientDetails:this.state.PatientDetails}})}},{key:"onBackClick",value:function(e){this.pushToLocationHistory(e)}},{key:"ErrorMessageContent",value:function(){if(this.state.errorMessage.length>0)return Object(T.jsx)("div",{className:"py-3 d-flex justify-content-end",children:Object(T.jsx)("p",{className:"error-message-save",children:this.state.errorMessage})})}},{key:"render",value:function(){var e=this;return Object(T.jsx)("div",{children:Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0);",onClick:function(){return e.onBackClick("/doctornotes/view")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:this.state.PageHeadding,size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),this.BuildPatientPrimaryDetails(),Object(T.jsxs)(He.a,{className:"mt-3",children:[Object(T.jsx)("div",{className:"col-12",children:Object(T.jsx)("div",{className:"mb-2",children:Object(T.jsx)(Nt.Editor,{editorState:this.state.editorState,wrapperClassName:"wrapper-class flex-fill",editorClassName:"editor-class",toolbarClassName:"toolbar-class",toolbar:{options:["inline","blockType","fontSize","list","textAlign","history"],list:{inDropdown:!0},textAlign:{inDropdown:!0}},onEditorStateChange:function(t){return e.onEditorStateChange(t)}})})}),Object(T.jsx)("div",{className:"col-md-4 mb-4 ",children:Object(T.jsxs)(He.a,{children:[Object(T.jsxs)("div",{className:"col-5 mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Date",size:"small",timestamp:!0}),Object(T.jsx)(ht.a,{allowManualInput:!1,className:"pikdate mb-2",inputPlaceholder:"",inputOnly:!0,defaultSelectedDate:this.state.DefaultDate?this.state.DefaultDate:new Date,maxDate:new Date,onDateChange:function(t,a){return e.setState({Date:nt()(a.value).format("YYYY-MM-DD")})}})]}),Object(T.jsxs)("div",{className:"col-3",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Hour",size:"small",timestamp:!0}),Object(T.jsx)(bt.a,{className:"overflow_off",items:Ct,placeholder:this.state.Hour,checkable:!0,fluid:!0,onChange:function(t,a){return e.setState({Hour:a.value})}})]}),Object(T.jsxs)("div",{className:"col-3",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Minute",size:"small",timestamp:!0}),Object(T.jsx)(bt.a,{className:"overflow_off",items:Pt,placeholder:this.state.Minute,checkable:!0,fluid:!0,onChange:function(t,a){return e.setState({Minute:a.value})}})]})]})})]}),this.ErrorMessageContent(),Object(T.jsxs)("div",{className:"py-3 d-flex justify-content-end",children:[Object(T.jsx)(H.a,{content:"Back",secondary:!0,onClick:function(){return e.onBackClick("/doctornotes/view")}}),Object(T.jsx)(H.a,{className:"ms-2",disabled:this.state.submitLoading,content:this.state.submitLoading?Object(T.jsx)(Ye.a,{label:"Submitting Data..",labelPosition:"end"}):this.state.SubmitButtonText,primary:!0,onClick:function(){return e.submitHandler()}})]})]})})}}]),a}(y.a.Component),At=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).loadDoctorNotes=function(e,t){s.setState({loading:!0}),ye(e,t,s.state.AccessToken).then((function(e){"success"==e.data.status&&s.setState({doctorNotesList:e.data.body,timeLineDatesList:e.data.timeLineDates}),s.setState({loading:!1})}))},s.onEditClick=function(e){s.setState({DoctorNotesDetails:e},(function(){s.pushToLocationHistory("/doctornotes/add")}))},s.formateTimeLineDate=function(e){var t=nt()().endOf("day").format("DD MMMM YYYY"),a=nt()(e).format("DD MMMM YYYY"),s=new Date,i=nt()(s.setDate((new Date).getDate()-1)).format("DD MMMM YYYY");return a===t?"Today":a===i?"Yesterday":nt()(e).format("DD MMMM YYYY")},s.BuildItemDetailDateWise=function(e){return Object(T.jsxs)("div",{className:"tl-item active",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-green mb-1",children:s.formateTimeLineDate(e)})}),s.state.doctorNotesList.filter((function(t){return nt()(t.ModifiedOn).format("L")===nt()(e).format("L")})).map((function(e){return s.BuildItemDetail(e)}))]})]})},s.BuildItemDetail=function(e){return Object(T.jsxs)("div",{className:"card w-100",children:[Object(T.jsx)("div",{className:"accordion accordion-flush",id:"accordionOne-"+e.DoctorNoteId,children:Object(T.jsxs)("div",{className:"accordion-item",children:[Object(T.jsx)("h2",{className:"accordion-header",id:"headingOne-"+e.DoctorNoteId,children:Object(T.jsx)("div",{className:"d-flex justify-content-between align-items-center accordion-button collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapseOne-"+e.DoctorNoteId,"aria-expanded":"false","aria-controls":"collapseOne-"+e.DoctorNoteId,children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(Xe.a,{color:""}),Object(T.jsx)(S.a,{className:"ms-1",content:Object(T.jsx)(_e.a,{format:"h:mm:ss a",children:e.ModifiedOn}),size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{id:"collapseOne-"+e.DoctorNoteId,className:"accordion-collapse collapse","aria-labelledby":"headingOne-"+e.DoctorNoteId,"data-bs-parent":"#accordionOne-"+e.DoctorNoteId,children:Object(T.jsx)("div",{className:"accordion-body",children:Object(T.jsx)(He.a,{children:Object(T.jsx)("div",{className:"col-12",children:Object(T.jsx)("div",{children:Object(T.jsx)(S.a,{className:"d-block",content:e.Description,size:"medium"})})})})})})]})}),Object(T.jsx)("div",{className:"card-body",children:Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(at.a,{text:e.ModifiedBy,size:st.c.size24})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onChatClick(e)},children:Object(T.jsx)(Re.a,{color:"#6264a7"})}),Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onCallClick(e)},children:Object(T.jsx)($e.b,{color:"#6264a7",className:"ms-2"})}),Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return s.onEditClick(e)},children:Object(T.jsx)(et.a,{color:"#6264a7",className:"ms-2"})})]})]})})]},e.DoctorNoteId)},s.state={loading:!0,doctorNotesList:[],timeLineDatesList:[],LoggedInUserEmail:"",LoggedInUserUPN:"",patientPrimaryDetails:{}},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){if(void 0!==e.props.location.state&&e.props.location.state.AccessToken)console.log("Access from location state"),e.setState({AccessToken:e.props.location.state.AccessToken},(function(){e.onPageLoad(t)}));else{console.log("Get new token");var a={successCallback:function(a){e.setState({AccessToken:a},(function(){e.onPageLoad(t)}))},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(a)}}))}},{key:"onPageLoad",value:function(e){var t=this,a=window.location.search;if(""!==a){var s=new URLSearchParams(a),i=s.get("UHID"),n=s.get("AdmissionId"),c=s.get("DepartmentId");null!==i&&""!==i&&null!==n&&""!==n&&null!==c&&""!==c&&(this.setState({UHID:i,AdmissionId:n,DepartmentId:c,LoggedInUserEmail:e.userPrincipalName,LoggedInUserUPN:e.userPrincipalName}),this.loadDoctorNotes(i,n),this.getPatientDetails(i))}else this.setState({UHID:this.props.location.state.UHID,AdmissionId:this.props.location.state.AdmissionId,DepartmentId:this.props.location.state.DepartmentId,LoggedInUserEmail:e.userPrincipalName,LoggedInUserUPN:e.userPrincipalName,PatientDetails:this.props.location.state.PatientDetails,patientPrimaryDetails:this.props.location.state.PatientDetails},(function(){t.loadDoctorNotes(t.state.UHID,t.state.AdmissionId)}))}},{key:"pushToLocationHistory",value:function(e){this.props.history.push({pathname:e,state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,DoctorNotesDetails:this.state.DoctorNotesDetails,PatientDetails:this.state.PatientDetails,AccessToken:this.state.AccessToken}})}},{key:"getPatientDetails",value:function(e){var t=this;ve(e,this.state.AccessToken).then((function(e){if("success"===e.data.status&&e.data.body.length>0){var a=e.data.body[0];t.setState({PatientDetails:a,patientPrimaryDetails:a})}}))}},{key:"onChatClick",value:function(e){var t="https://teams.microsoft.com/l/chat/0/0?users="+this.state.LoggedInUserUPN+","+e.ModifiedByEmail+"&topicName=Patient Vitals&message="+("Discussion regarding the patient, Patient Name : "+(this.state.PatientDetails?this.state.PatientDetails.PatientName:"")+", UHID : "+this.state.UHID);this.executeDeepLink(t)}},{key:"onCallClick",value:function(e){this.state.LoggedInUserUPN;var t="https://teams.microsoft.com/l/call/0/0?users="+e.ModifiedByEmail;this.executeDeepLink(t)}},{key:"executeDeepLink",value:function(e){L.executeDeepLink(e)}},{key:"NoRecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/patients/details")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Doctor Notes",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)(Ge,{patientPrimaryDetails:this.state.patientPrimaryDetails}),Object(T.jsxs)("div",{className:"mt-5 text-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(Qe,{height:150})}),Object(T.jsx)(S.a,{className:"d-block mb-2",content:"No Doctor Notes added",size:"large",weight:"bold"}),Object(T.jsx)(S.a,{className:"d-block",content:"Doctor's notes of the patient show up here",size:"medium",weight:"regular"}),Object(T.jsx)(H.a,{icon:Object(T.jsx)(tt.a,{}),className:"my-4",content:"Add Doctor Note",iconPosition:"before",primary:!0,onClick:function(){return e.pushToLocationHistory("/doctornotes/add")}})]})]})}},{key:"RecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory("/patients/details")},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Doctor Notes",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{children:Object(T.jsx)(H.a,{icon:Object(T.jsx)(tt.a,{}),iconOnly:!0,tinted:!0,className:"ms-2",primary:!0,onClick:function(){return e.pushToLocationHistory("/doctornotes/add")}})})]}),Object(T.jsx)(Ge,{patientPrimaryDetails:this.state.patientPrimaryDetails}),Object(T.jsxs)("div",{className:"timeline block my-4",children:[this.state.timeLineDatesList.map((function(t){return e.BuildItemDetailDateWise(t)})),Object(T.jsxs)("div",{className:"tl-item",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsx)("div",{className:"d-flex flex-column w-100",children:Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-grey mb-1",children:"No further history"})})})]})]})]})}},{key:"render",value:function(){return this.state.loading?Object(T.jsx)("div",{children:Object(T.jsx)(ze.a,{children:Object(T.jsx)(Ye.a,{})})}):(e=this.state.doctorNotesList.length>0?this.RecordFoundContent():this.NoRecordFoundContent(),Object(T.jsx)("div",{children:Object(T.jsx)(ze.a,{children:e})}));var e}}]),a}(y.a.Component),Mt=a.p+"static/media/pdf-download.6b6c8b89.svg",St=a.p+"static/media/pdf-download_lg.fe9ccef6.svg",Tt=a(190),Ut=(a(640),function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).convertBase64ToBlob=function(e){for(var t=atob(e),a=t.length,s=new Uint8Array(a);a--;)s[a]=t.charCodeAt(a);return new Blob([s],{type:"application/pdf"})},s.createObjectURL=function(e){return URL.createObjectURL(s.convertBase64ToBlob(e))},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(this.props.base64Data)return Object(T.jsx)("div",{style:{flex:1,overflow:"hidden"},children:Object(T.jsx)(Tt.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@2.5.207/build/pdf.worker.min.js",children:Object(T.jsx)(Tt.Viewer,{fileUrl:this.createObjectURL(this.props.base64Data),defaultScale:Tt.SpecialZoomLevel.PageFit})})})}}]),a}(y.a.Component)),Ht=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).loadLabReports=function(e,t){s.setState({loading:!0}),Pe(e,t,s.state.AccessToken).then((function(e){"success"==e.data.status&&s.setState({labReportList:e.data.body,timeLineDatesList:e.data.timeLineDates}),s.setState({loading:!1})}))},s.formateTimeLineDate=function(e){var t=nt()().endOf("day").format("DD MMMM YYYY"),a=nt()(e).format("DD MMMM YYYY"),s=new Date,i=nt()(s.setDate((new Date).getDate()-1)).format("DD MMMM YYYY");return a===t?"Today":a===i?"Yesterday":nt()(e).format("DD MMMM YYYY")},s.convertBase64ToBlob=function(e){for(var t=atob(e),a=t.length,s=new Uint8Array(a);a--;)s[a]=t.charCodeAt(a);var i=new Blob([s],{type:"data:application/pdf;base64"});return URL.createObjectURL(i)},s.BuildItemDetailDateWise=function(e){return Object(T.jsxs)("div",{className:"tl-item active",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-green mb-1",children:s.formateTimeLineDate(e)})}),s.state.labReportList.filter((function(t){return nt()(t.ModifiedOn).format("L")===nt()(e).format("L")})).map((function(e){return s.BuildItemDetail(e)}))]})]},e)},s.b64toBlob=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,s=atob(e),i=[],n=0;n<s.length;n+=a){for(var c=s.slice(n,n+a),o=new Array(c.length),l=0;l<c.length;l++)o[l]=c.charCodeAt(l);var r=new Uint8Array(o);i.push(r)}var d=new Blob(i,{type:t});return d},s.pdfViewerFunction=function(e){var t=s.b64toBlob(e,"application/pdf"),a=URL.createObjectURL(t);window.open(a,"_blank","resizable=yes, scrollbars=yes, titlebar=yes")},s.BuildItemDetail=function(e){return Object(T.jsxs)("div",{className:"card w-100",children:[Object(T.jsx)("div",{className:"accordion accordion-flush",id:"accordionOne-"+e.LabRequestId,children:Object(T.jsxs)("div",{className:"accordion-item",children:[Object(T.jsx)("h2",{className:"accordion-header",id:"headingOne-"+e.LabRequestId,children:Object(T.jsx)("div",{className:"d-flex justify-content-between align-items-center accordion-button collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapseOne-"+e.LabRequestId,"aria-expanded":"false","aria-controls":"collapseOne-"+e.LabRequestId,children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",content:e.TestName,size:"medium",weight:"semibold"}),Object(T.jsx)(S.a,{className:"d-block",content:Object(T.jsx)(_e.a,{format:"h:mm a",children:e.ModifiedOn}),size:"small"})]})})}),Object(T.jsx)("div",{id:"collapseOne-"+e.LabRequestId,className:"accordion-collapse collapse","aria-labelledby":"headingOne-"+e.LabRequestId,"data-bs-parent":"#accordionOne-"+e.LabRequestId,children:Object(T.jsxs)("div",{className:"accordion-body ",children:[Object(T.jsxs)("div",{className:"report_download text-center p-3 mb-3",children:[Object(T.jsx)("div",{className:"mb-2",children:Object(T.jsx)("img",{src:St,alt:"Report"})}),Object(T.jsx)(H.a,{content:"View report",inverted:!0,onClick:function(){s.ShowPdf(e.TestName,e.ReportFileUrl.id)}})]}),Object(T.jsxs)(He.a,{className:"mb-2",children:[Object(T.jsx)("div",{className:"col-md-4 col-6 mb-2",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Sample Number",size:"small",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block",content:e.Name,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-6 mb-2",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Priority",size:"small",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block",content:e.Priority,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-6 mb-2",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Sample Date",size:"small",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block",content:Object(T.jsx)(_e.a,{format:"MMM Do YYYY h:mm a",children:e.DoneDate?e.DoneDate:e.CreatedOn}),size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-6 mb-2",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block",color:"grey",content:"Report Date",size:"small",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block",content:e.ReportFileUrl.date_entered,size:"medium",weight:"semibold"})]})})})]})]})})]})}),Object(T.jsx)("div",{className:"card-body",children:Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(at.a,{text:e.CreatedBy,size:st.c.size24})}),Object(T.jsx)("div",{onClick:function(){s.ShowPdf(e.TestName,e.ReportFileUrl.id)},children:Object(T.jsx)("img",{src:Mt,alt:"Report"})})]})})]},e.LabRequestId)},s.ShowPdf=function(e,t){console.log(t),t?s.setState({base64:t,pdfTestName:e}):s.setState({base64:"",pdfTestName:""})},s.BuildPatientPrimaryDetails=function(){if(s.state.patientPrimaryDetails)return Object(T.jsx)(Ge,{patientPrimaryDetails:s.state.patientPrimaryDetails})},s.state={loading:!0,labReportList:[],timeLineDatesList:[],patientPrimaryDetails:{}},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){if(void 0!==e.props.location.state&&e.props.location.state.AccessToken)console.log("Access from location state"),e.setState({AccessToken:e.props.location.state.AccessToken},(function(){e.onPageLoad(t)}));else{console.log("Get new token");var a={successCallback:function(a){e.setState({AccessToken:a},(function(){e.onPageLoad(t)}))},failureCallback:function(e){console.error("Error from getAuthToken: ",e),window.location.href="/signin?locale=en-US"},resources:[]};L.authentication.getAuthToken(a)}}))}},{key:"onPageLoad",value:function(e){var t=this,a=window.location.search;if(""!=a){var s=new URLSearchParams(a),i=s.get("UHID"),n=s.get("AdmissionId"),c=s.get("DepartmentId");null!==i&&""!==i&&null!==n&&""!==n&&null!==c&&""!==c&&(this.loadLabReports(i,n),this.setState({UHID:i,AdmissionId:n,DepartmentId:c}),this.getPatientDetails(i))}else this.setState({UHID:this.props.location.state.UHID,AdmissionId:this.props.location.state.AdmissionId,DepartmentId:this.props.location.state.DepartmentId,patientPrimaryDetails:this.props.location.state.PatientDetails},(function(){t.loadLabReports(t.state.UHID,t.state.AdmissionId)}))}},{key:"getPatientDetails",value:function(e){var t=this;ve(e,this.state.AccessToken).then((function(e){if("success"===e.data.status&&e.data.body.length>0){var a=e.data.body[0];t.setState({patientPrimaryDetails:a})}}))}},{key:"pushToLocationHistory",value:function(){this.props.history.push({pathname:"/patients/details",state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,PatientDetails:this.state.patientPrimaryDetails,AccessToken:this.state.AccessToken}})}},{key:"NoRecordFoundContent",value:function(){var e=this;return Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory()},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Lab Reports",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)("div",{className:"mx-3",children:this.BuildPatientPrimaryDetails()}),Object(T.jsxs)("div",{className:"mt-5 text-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(Qe,{height:150})}),Object(T.jsx)(S.a,{className:"d-block mb-2",content:"No Lab Reports added",size:"large",weight:"bold"}),Object(T.jsx)(S.a,{className:"d-block",content:"Lab Reports of the patient show up here",size:"medium",weight:"regular"})]})]})}},{key:"backClickFromPdfView",value:function(){this.setState({base64:"",pdfTestName:""})}},{key:"RecordFoundContent",value:function(){var e=this;return this.state.base64?Object(T.jsxs)(ze.a,{children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.backClickFromPdfView()},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:this.state.pdfTestName,size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)(Ut,{base64Data:this.state.base64})]}):Object(T.jsxs)(ze.a,{children:[Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[Object(T.jsx)("div",{children:Object(T.jsx)("a",{href:"javascript:void(0)",onClick:function(){return e.pushToLocationHistory()},children:Object(T.jsx)(Re.b,{})})}),Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsx)(S.a,{className:"ms-2",content:"Lab Reports",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{})]}),Object(T.jsx)("div",{className:"mx-3",children:this.BuildPatientPrimaryDetails()}),this.state.timeLineDatesList.map((function(t){return e.BuildItemDetailDateWise(t)})),Object(T.jsxs)("div",{className:"tl-item",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsx)("div",{className:"d-flex flex-column w-100",children:Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-grey mb-1",children:"No further history"})})})]})]})}},{key:"render",value:function(){return this.state.loading?Object(T.jsx)("div",{children:Object(T.jsx)(ze.a,{children:Object(T.jsx)(Ye.a,{})})}):(e=this.state.labReportList.length>0?this.RecordFoundContent():this.NoRecordFoundContent(),Object(T.jsx)("div",{children:e}));var e}}]),a}(y.a.Component),zt=a(349),Bt=a.n(zt),Yt=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).loadDepartments=function(){s.setState({loading:!0}),he().then((function(e){e.data&&s.setState({departmentDetails:e.data}),s.setState({loading:!1})}))},s.openNewForm=function(e){var t={title:"New Department",height:350,width:580,url:z()+"/admin/department/add",fallbackUrl:z()+"/admin/department/add"};L.tasks.startTask(t,(function(e,t){s.loadDepartments()}))},s.openEditForm=function(e){var t={title:"Edit Department",height:350,width:580,url:z()+"/admin/department/add?departmentId="+e.departmentId,fallbackUrl:z()+"/admin/department/add?departmentId="+e.departmentId};L.tasks.startTask(t,(function(e,t){s.loadDepartments()}))},s.state={loading:!0,departmentDetails:[],tableColumns:[]},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){e.setState({tableColumns:[{name:"Department Id",selector:function(e){return e.departmentId},sortable:!0},{name:"Department Name",selector:function(e){return e.departmentName},sortable:!0},{name:"Teams Name",selector:function(e){return e.teamName}},{name:"Action",sortable:!1,cell:function(t){return Object(T.jsx)(N.Fragment,{children:Object(T.jsx)("button",{className:"btn btn-primary btn-sm",onClick:function(){e.openEditForm(t)},children:"Edit"})})}}]}),e.loadDepartments()}))}},{key:"commonHeaderContent",value:function(){var e=this;return Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(S.a,{content:"Department Listing",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{children:Object(T.jsx)(H.a,{icon:Object(T.jsx)(tt.a,{}),onClick:function(){return e.openNewForm(null)},content:"Add New Department",iconPosition:"before",primary:!0,size:"small"})})]})}},{key:"NoRecordFoundContent",value:function(){return Object(T.jsx)("div",{children:Object(T.jsx)(ze.a,{children:Object(T.jsxs)("div",{className:"command_bar mb-2 py-2 px-3",children:[this.commonHeaderContent(),Object(T.jsx)("div",{className:"mt-5 text-center",children:Object(T.jsx)(S.a,{className:"d-block mb-2",content:"No Records Exits",size:"large",weight:"bold"})})]})})})}},{key:"RecordFoundContent",value:function(){var e=this;return Object(T.jsx)("div",{children:Object(T.jsxs)(ze.a,{children:[Object(T.jsx)("div",{className:"command_bar mb-2 py-2 px-3",children:Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)(S.a,{content:"Department Listing",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{children:Object(T.jsx)(H.a,{icon:Object(T.jsx)(tt.a,{}),onClick:function(){return e.openNewForm(null)},content:"Add New Department",iconPosition:"before",primary:!0,size:"small"})})]})}),Object(T.jsx)(Ue.a,{fluid:!0,children:Object(T.jsx)(Bt.a,{columns:this.state.tableColumns,data:this.state.departmentDetails,pagination:!0})})]})})}},{key:"render",value:function(){return this.state.loading?Object(T.jsx)("div",{children:Object(T.jsx)(Ye.a,{})}):(e=this.state.departmentDetails.length>0?this.RecordFoundContent():this.NoRecordFoundContent(),Object(T.jsx)("div",{children:e}));var e}}]),a}(y.a.Component),Rt=function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).getTeamsGroup=function(){xe("").then((function(e){if(e.data){var t=[];e.data.forEach((function(e){t.push({key:e.id,label:e.displayName,content:e.displayName})})),s.setState({dropdownGroupItems:t})}}))},s.getTeamsChannel=function(e){fe(e).then((function(e){if(e.data){var t=[];e.data.forEach((function(e){t.push({key:e.id,label:e.displayName,content:e.displayName})})),s.setState({dropdownChannelItems:t})}}))},s.getDepartments=function(){Oe().then((function(e){if("success"===e.data.status){var t=[];e.data.body.forEach((function(e){t.push({key:e.DepartmentId,label:e.DepartmentName,content:e.DepartmentName})})),s.setState({dropdownDepartmentItems:t})}}))},s.getDepartmentDetails=function(e){s.setState({loading:!0}),be(e).then((function(e){s.setState({loading:!1}),null!==e.data&&(s.setState({loading:!1,departmentId:e.data.departmentId,departmentName:e.data.departmentName,channelId:e.data.channelId,channelName:e.data.channelName,teamId:e.data.teamId,teamName:e.data.teamName}),s.getTeamsChannel(e.data.teamId))}))},s.submitHandler=function(){s.setState({submitLoading:!0});var e={departmentId:s.state.departmentId,departmentName:s.state.departmentName,channelId:s.state.channelId,channelName:s.state.channelName,teamId:s.state.teamId,teamName:s.state.teamName};pe(e).then((function(e){s.setState({submitLoading:!1}),e.data&&L.tasks.submitTask()}))},s.state={loading:!1,departmentId:"0",departmentName:"",channelId:"",channelName:"",teamId:"",teamName:"",teamGroups:[],departments:[],channels:[],dropdownGroupItems:[],dropdownDepartmentItems:[],dropdownChannelItems:[],submitLoading:!1},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){e.getTeamsGroup(),e.getDepartments();var a=window.location.search;if(""!==a){var s=new URLSearchParams(a).get("departmentId");""!==s&&void 0!==s&&e.getDepartmentDetails(s)}}))}},{key:"onDepartmentDropdownChange",value:function(e,t){null!=t&&this.setState({departmentId:t.value.key,departmentName:t.value.label})}},{key:"onGroupdownChange",value:function(e,t){null!=t&&(this.setState({teamId:t.value.key,teamName:t.value.label}),this.getTeamsChannel(t.value.key))}},{key:"onChannelDropdownChange",value:function(e,t){null!==t&&this.setState({channelId:t.value.key,channelName:t.value.label})}},{key:"render",value:function(){var e=this;return this.state.loading?Object(T.jsx)("div",{children:Object(T.jsx)(Ye.a,{})}):Object(T.jsx)("div",{children:Object(T.jsx)(ze.a,{children:Object(T.jsxs)(Ue.a,{fluid:!0,children:[Object(T.jsxs)(He.a,{children:[Object(T.jsxs)("div",{className:"col-md-4 mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Department",size:"small",timestamp:!0}),Object(T.jsx)(bt.a,{fluid:!0,items:this.state.dropdownDepartmentItems,placeholder:"Department",onChange:function(t,a){return e.onDepartmentDropdownChange(t,a)},value:this.state.departmentName})]}),Object(T.jsxs)("div",{className:"col-md-4 mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Team",size:"small",timestamp:!0}),Object(T.jsx)(bt.a,{fluid:!0,items:this.state.dropdownGroupItems,placeholder:"Please select",onChange:function(t,a){return e.onGroupdownChange(t,a)},value:this.state.teamName})]}),Object(T.jsxs)("div",{className:"col-md-4 mb-2",children:[Object(T.jsx)(S.a,{className:"mb-1 p-0 d-block",color:"grey",content:"Channel",size:"small",timestamp:!0}),Object(T.jsx)(bt.a,{fluid:!0,items:this.state.dropdownChannelItems,disabled:!this.state.dropdownChannelItems.length,placeholder:"Channel",value:this.state.channelName,onChange:function(t,a){return e.onChannelDropdownChange(t,a)}})]})]}),Object(T.jsx)("div",{className:"py-3 d-flex justify-content-end",children:Object(T.jsx)(H.a,{className:"ms-2",disabled:this.state.submitLoading||!this.state.departmentName||!this.state.teamName||!this.state.channelName,content:this.state.submitLoading?Object(T.jsx)(Ye.a,{size:"small",label:"Submitting Data..",labelPosition:"end"}):"Submit",primary:!0,onClick:function(){return e.submitHandler()}})})]})})})}}]),a}(y.a.Component),Et=[{path:"/vitals/add",component:We},{path:"/vitals/view",component:ct},{path:"/patients/details",component:ut},{path:"/patients/view",component:function(e){Object(Se.a)(a,e);var t=Object(Te.a)(a);function a(e){var s;return Object(V.a)(this,a),(s=t.call(this,e)).BuildItemDetail=function(e){return console.log(e),Object(T.jsxs)("div",{className:"tl-item active",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-green mb-1",children:Object(T.jsx)(_e.a,{format:"MMM Do YYYY",children:s.state.PatientDetails.AdmissionDate})})}),Object(T.jsx)("div",{className:"card w-100 mb-2",children:Object(T.jsx)("div",{className:"accordion accordion-flush",id:"accordionOne-"+e.AdmissionId,children:Object(T.jsxs)("div",{className:"accordion-item",children:[Object(T.jsx)("h2",{className:"accordion-header",id:"headingOne-"+e.AdmissionId,children:Object(T.jsx)("div",{className:"d-flex justify-content-between accordion-button collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapseOne-"+e.AdmissionId,"aria-expanded":"false","aria-controls":"collapseOne",children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(Xe.a,{color:""}),Object(T.jsx)(S.a,{className:"ms-1",content:"9:30 AM",size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{id:"collapseOne-"+e.AdmissionId,className:"accordion-collapse collapse","aria-labelledby":"headingOne-"+e.AdmissionId,"data-bs-parent":"#accordionOne-"+e.AdmissionId,children:Object(T.jsxs)("div",{className:"accordion-body",children:[Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Refered By:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.ReferedBy,size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Referer Note:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.RefererNote,size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Admission No.:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.Admnumber,size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Admission Reason:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.AdmissionReason,size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Admission Date:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:Object(T.jsx)(_e.a,{format:"MMM Do YYYY hh:mm",children:s.state.PatientDetails.AdmissionDate}),size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Department Name:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.DepartmentName,size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Discharge Date:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:Object(T.jsx)(_e.a,{format:"MMM Do YYYY hh:mm",children:s.state.PatientDetails.DischargeDate}),size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Discharge Reason:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.DischargeReason,size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Discharge Info:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.DischargeInfo,size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Status:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.Status,size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Created By:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.CreatedBy,size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Created By Email:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.CreatedByEmail,size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Bed Number:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.BedDetails.BedNumber?e.BedDetails.BedNumber:"",size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Status:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.BedDetails.Status?e.BedDetails.Status:"",size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Bed Assign Date:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.BedDetails.BedAssignDate?Object(T.jsx)(_e.a,{format:"MMM Do YYYY hh:mm",children:e.BedDetails.BedAssignDate}):"",size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"TransferNote:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.BedDetails.TransferNote?e.BedDetails.TransferNote:"",size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Disease:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.DiagnosisDetails&&e.DiagnosisDetails.Disease?e.DiagnosisDetails.Disease:"",size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Final Diagnosis:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.DiagnosisDetails&&e.DiagnosisDetails.InformationonFinalDiagnosis?e.DiagnosisDetails.InformationonFinalDiagnosis:"",size:"medium",weight:"regular"})})]}),Object(T.jsxs)(He.a,{className:"d-flex justify-content-between mb-2",children:[Object(T.jsx)("div",{className:"col-5 col-md-2",children:Object(T.jsx)(S.a,{content:"Diagnosis Date:",size:"medium",weight:"semibold"})}),Object(T.jsx)("div",{className:"col",children:Object(T.jsx)(S.a,{content:e.DiagnosisDetails&&e.DiagnosisDetails.Date?Object(T.jsx)(_e.a,{format:"MMM Do YYYY hh:mm",children:e.DiagnosisDetails.Date}):"",size:"medium",weight:"regular"})})]})]})})]})})})]})]},e)},s.state={loading:!0,PatientDetails:{},AdmissionList:[]},s}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.initialize(),L.getContext((function(t){e.setState({UHID:e.props.location.state.UHID,AdmissionId:e.props.location.state.AdmissionId,DepartmentId:e.props.location.state.DepartmentId,channelId:t.channelId,groupId:t.groupId,PatientDetails:e.props.location.state.PatientDetails,loading:!1,AccessToken:e.props.location.state.AccessToken},(function(){e.getPatientAdmissionDetails(e.state.UHID,e.state.AdmissionId)}))}))}},{key:"getPatientAdmissionDetails",value:function(e,t){var a=this;ge(e,t,this.state.AccessToken).then((function(e){console.log(e),"success"===e.data.status&&e.data.body.length>0&&a.setState({AdmissionList:e.data.body}),a.setState({loading:!1})}))}},{key:"pushToLocationHistory",value:function(e){this.props.history.push({pathname:e,state:{UHID:this.state.UHID,AdmissionId:this.state.AdmissionId,DepartmentId:this.state.DepartmentId,PatientDetails:this.state.PatientDetails,AccessToken:this.state.AccessToken}})}},{key:"onBackClick",value:function(e){this.pushToLocationHistory(e)}},{key:"render",value:function(){var e=this;if(this.state.loading)return Object(T.jsx)(ze.a,{children:Object(T.jsx)(Ye.a,{})});var t=this.state.PatientDetails.Salutation?this.state.PatientDetails.Salutation:"",a=this.state.PatientDetails.PatientName?this.state.PatientDetails.PatientName:"";return Object(T.jsx)("div",{children:Object(T.jsxs)(ze.a,{children:[Object(T.jsxs)("div",{className:"hero_sec py-4 px-3",children:[Object(T.jsx)("div",{className:"d-flex justify-content-between mb-3",children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(Fe.a,{color:"#fff"}),Object(T.jsx)(Ee.a,{className:"mb-0 ms-1 text-light",as:"h4",content:t+" "+a})]})}),Object(T.jsxs)(He.a,{className:"mb-2",children:[Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"Age",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:this.state.PatientDetails.RegistrationAge,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"UHID",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:this.state.PatientDetails.UHID,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"DOA",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:Object(T.jsx)(_e.a,{format:"MMM Do YYYY",children:this.state.PatientDetails.RegistrationDate}),size:"medium",weight:"semibold"})]})})})]}),Object(T.jsxs)(He.a,{className:"mb-2",children:[Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"Sex",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:this.state.PatientDetails.Sex,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"Blood Group",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:this.state.PatientDetails.BloodGroup,size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"DOB",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:Object(T.jsx)(_e.a,{format:"MMM Do YYYY",children:this.state.PatientDetails.DateOfBirth}),size:"medium",weight:"semibold"})]})})})]}),Object(T.jsxs)(He.a,{children:[Object(T.jsx)("div",{className:"col-md-4 col-8",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"Email",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:this.state.PatientDetails.Email?this.state.PatientDetails.Email:"",size:"medium",weight:"semibold"})]})})}),Object(T.jsx)("div",{className:"col-md-4 col-4",children:Object(T.jsx)("div",{className:"d-flex",children:Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{className:"d-block text-light",color:"grey",content:"Phone Number",timestamp:!0}),Object(T.jsx)(S.a,{className:"d-block text-light",content:this.state.PatientDetails.PhoneNumber,size:"medium",weight:"semibold"})]})})})]})]}),Object(T.jsxs)(Ue.a,{fluid:!0,className:"my-3",children:[Object(T.jsxs)("div",{className:"d-flex justify-content-start align-items-center mb-3",children:[Object(T.jsx)($e.a,{}),Object(T.jsx)(S.a,{className:"ms-2",color:"grey",size:"medium",content:"Admission Details"})]}),Object(T.jsxs)("div",{className:"timeline block my-4",children:[this.state.AdmissionList.map((function(t){return e.BuildItemDetail(t)})),Object(T.jsxs)("div",{className:"tl-item",children:[Object(T.jsx)("div",{className:"tl-dot"}),Object(T.jsx)("div",{className:"d-flex flex-column w-100",children:Object(T.jsx)("div",{children:Object(T.jsx)("span",{className:"badge bg-gadient-grey mb-1",children:"No further history"})})})]})]}),Object(T.jsx)("div",{className:"py-3 d-flex justify-content-end",children:Object(T.jsx)(H.a,{content:"Back",primary:!0,onClick:function(){return e.onBackClick("/patients/details")}})})]})]})})}}]),a}(y.a.Component)},{path:"/intakeoutput/add",component:ft},{path:"/intakeoutput/view",component:Ot},{path:"/labreport/view",component:Ht},{path:"/labreport/viewPdf",component:Ut},{path:"/medicalhistory/view",component:gt},{path:"/doctornotes/add",component:Lt},{path:"/doctornotes/view",component:At},{path:"/prescription/view",component:vt},{path:"/admin/department/list",component:Yt},{path:"/admin/department/add",component:Rt},{path:"/signin",component:Y},{path:"/signin-simple-start",component:Ae},{path:"/signin-simple-end",component:Me},{path:"/errorpage",component:U},{path:"/",exact:!0,redirectTo:"/patients/details"}];a(643),a(644),a(646);var Ft=function(e){var t=Object(P.a)(),a=Object(w.a)(t,1)[0],s=a.inTeams,i=a.theme;return Object(N.useEffect)((function(){!0===s&&L.appInitialization.notifySuccess()}),[s]),Object(T.jsx)(C.a,{theme:i,children:Object(T.jsx)(A.a,{children:Object(T.jsx)("div",{style:{height:"100vh",overflow:"auto",backgroundColor:"transparent"},children:Object(T.jsx)(M.d,{children:Et.map((function(e){return e.redirectTo?Object(T.jsx)(M.a,{to:e.redirectTo},e.path):Object(T.jsx)(M.b,{exact:e.exact,path:e.path,component:e.component},e.path)}))})})})})},Vt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,820)).then((function(t){var a=t.getCLS,s=t.getFID,i=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),s(e),i(e),n(e),c(e)}))};I.a.render(Object(T.jsx)(y.a.StrictMode,{children:Object(T.jsx)(Ft,{})}),document.getElementById("root")),Vt()}},[[650,1,2]]]);
//# sourceMappingURL=main.eaa80082.chunk.js.map